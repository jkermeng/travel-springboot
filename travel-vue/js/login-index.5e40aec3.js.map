{"version":3,"sources":["webpack:///./src/views/index.vue?4203","webpack:///src/views/index.vue","webpack:///./src/views/index.vue?980c","webpack:///./src/views/index.vue","webpack:///./src/views/index.vue?5897","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/views/register.vue?f2a1","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/views/login.vue?c290","webpack:///./src/views/register.vue?ae05","webpack:///src/views/register.vue","webpack:///./src/views/register.vue?5434","webpack:///./src/views/register.vue","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/views/login.vue?1918","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2e0e","webpack:///./src/views/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","on","$event","dialogVisible","attrs","model","value","callback","$$v","query","expression","_l","item","key","albumid","aPhoto","dfUrl","photoaddress","slot","_s","albumname","preventDefault","del","albumdescribe","handleClose","ref","rules","addalbumForm","$set","submit","staticRenderFns","data","id","JSON","parse","window","sessionStorage","user","userid","adminid","albumlist","allalbumlist","created","getalbumlist","queryuserlist","methods","some","includes","arr","$refs","validate","watch","val","component","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","searchString","String","indexOf","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","TypeError","registerForm","submitForm","reback","Error","phone","test","v_password","username","password","repassword","mounted","document","onkeydown","_key","focus","$router","go","METHOD_NAME","regexp","e","f","$includes","addToUnscopables","arrayMethodUsesToLength","USES_TO_LENGTH","ACCESSORS","1","el","loginForm"],"mappings":"+IAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,QAAQF,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,YAAY,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQT,EAAIU,eAAgB,KAAQ,CAACV,EAAIM,GAAG,YAAYF,EAAG,WAAW,CAACO,MAAM,CAAC,YAAc,YAAYC,MAAM,CAACC,MAAOb,EAAS,MAAEc,SAAS,SAAUC,GAAMf,EAAIgB,MAAMD,GAAKE,WAAW,YAAY,GAAGb,EAAG,KAAK,CAACG,YAAY,aAAaP,EAAIkB,GAAIlB,EAAa,WAAE,SAASmB,GAAM,OAAOf,EAAG,cAAc,CAACgB,IAAID,EAAKE,QAAQV,MAAM,CAAC,GAAK,UAAYQ,EAAKE,UAAU,CAACjB,EAAG,KAAK,CAACA,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,WAAW,CAACO,MAAM,CAAC,IAAMQ,EAAKG,OAAStB,EAAIuB,MAAQJ,EAAKG,OAAOE,aAAe,GAAG,MAAQ,QAAQ,OAAS,UAAU,CAACpB,EAAG,MAAM,CAACG,YAAY,aAAaI,MAAM,CAAC,KAAO,SAASc,KAAK,SAAS,CAACrB,EAAG,IAAI,CAACG,YAAY,iCAAiC,GAAGH,EAAG,MAAM,CAACG,YAAY,eAAe,CAACH,EAAG,OAAO,CAACJ,EAAIM,GAAGN,EAAI0B,GAAGP,EAAKQ,WAAa,WAAWvB,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,SAAS,KAAO,OAAO,KAAO,kBAAkBH,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOmB,iBAAwB5B,EAAI6B,IAAIV,QAAW,GAAGf,EAAG,MAAM,CAACG,YAAY,kBAAkB,CAACP,EAAIM,GAAG,IAAIN,EAAI0B,GAAGP,EAAKW,eAAiB,MAAM,cAAa,KAAK1B,EAAG,YAAY,CAACO,MAAM,CAAC,OAAS,GAAG,QAAUX,EAAIU,cAAc,eAAeV,EAAI+B,YAAY,MAAQ,OAAO,MAAQ,OAAOvB,GAAG,CAAC,iBAAiB,SAASC,GAAQT,EAAIU,cAAcD,KAAU,CAACL,EAAG,UAAU,CAAC4B,IAAI,kBAAkBrB,MAAM,CAAC,MAAQX,EAAIiC,MAAM,MAAQjC,EAAIkC,eAAe,CAAC9B,EAAG,eAAe,CAACO,MAAM,CAAC,KAAO,YAAY,MAAQ,SAAS,CAACP,EAAG,WAAW,CAACQ,MAAM,CAACC,MAAOb,EAAIkC,aAAsB,UAAEpB,SAAS,SAAUC,GAAMf,EAAImC,KAAKnC,EAAIkC,aAAc,YAAanB,IAAME,WAAW,6BAA6B,IAAI,GAAGb,EAAG,OAAO,CAACG,YAAY,gBAAgBI,MAAM,CAAC,KAAO,UAAUc,KAAK,UAAU,CAACrB,EAAG,YAAY,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIoC,OAAO,sBAAsB,CAACpC,EAAIM,GAAG,QAAQF,EAAG,YAAY,CAACI,GAAG,CAAC,MAAQ,SAASC,GAAQT,EAAIU,eAAgB,KAAS,CAACV,EAAIM,GAAG,UAAU,IAAI,IAAI,IAC/9D+B,EAAkB,G,sDC+EtB,GACEC,KADF,WAEI,MAAO,CACLtB,MAAO,GACPuB,GAAIC,KAAKC,MAAMC,OAAOC,eAAeC,MAAMC,QAAUL,KAAKC,MAAMC,OAAOC,eAAeC,MAAME,QAC5FpC,eAAe,EACfa,MAAO,6BACPwB,UAAW,CAAC,IACZC,aAAc,GACdd,aAAc,GACdD,MAAO,CACLN,UAAW,CAAC,CAApB,iDAIEsB,QAfF,WAgBIhD,KAAKiD,eACLjD,KAAKkD,iBAEPC,QAAS,CAEP,aAFJ,WAEA,gLACA,iDADA,gBACA,EADA,EACA,KACA,qBAFA,8CAKID,cAPJ,WAOA,WACA,KACMlD,KAAK+C,aAAaK,MAAK,SAA7B,IACYlC,EAAKQ,UAAU2B,SAAS,EAApC,qDAEMrD,KAAK8C,UAAYQ,GAGnBnB,OAfJ,SAeA,cACMnC,KAAKuD,MAAMxB,GAAKyB,SAAhB,WAAN,sJACA,EADA,0CACA,GADA,cAEA,oCAFA,SAGA,6CAHA,kBAGA,KACA,gBACA,iBALA,8FAAM,KAQF,IAxBJ,SAwBA,qLAEA,gCACA,uBACA,sBACA,iBACA,+BANA,UAEA,EAFA,OAOA,aAPA,yCAQA,0BARA,cAUA,YAVA,SAWA,gDAXA,kBAWA,KACA,iBAZA,+CAeI1B,YAvCJ,WAwCM9B,KAAKS,eAAgB,IAGzBgD,MAAO,CACL1C,MADJ,SACA,GACU2C,GACF1D,KAAKkD,mBCjJkU,I,wBCQ3US,EAAY,eACd,EACA7D,EACAsC,GACA,EACA,KACA,WACA,MAIa,aAAAuB,E,2CCnBf,yBAAsiB,EAAG,G,kCCCziB,IAAIC,EAAI,EAAQ,QACZC,EAAa,EAAQ,QACrBC,EAAyB,EAAQ,QACjCC,EAAuB,EAAQ,QAInCH,EAAE,CAAEI,OAAQ,SAAUC,OAAO,EAAMC,QAASH,EAAqB,aAAe,CAC9EV,SAAU,SAAkBc,GAC1B,SAAUC,OAAON,EAAuB9D,OACrCqE,QAAQR,EAAWM,GAAeG,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,kCCX/E,yBAAyiB,EAAG,G,uBCA5iB,IAAIC,EAAW,EAAQ,QACnBC,EAAU,EAAQ,QAClBC,EAAkB,EAAQ,QAE1BC,EAAQD,EAAgB,SAI5BE,EAAOC,QAAU,SAAUC,GACzB,IAAIC,EACJ,OAAOP,EAASM,UAAmCP,KAA1BQ,EAAWD,EAAGH,MAA0BI,EAA0B,UAAfN,EAAQK,M,uBCVtF,IAAIC,EAAW,EAAQ,QAEvBH,EAAOC,QAAU,SAAUC,GACzB,GAAIC,EAASD,GACX,MAAME,UAAU,iDAChB,OAAOF,I,oCCLX,yBAAsiB,EAAG,G,yCCAziB,IAAIjF,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,OAAOH,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,KAAK,CAACJ,EAAIM,GAAG,QAAQF,EAAG,UAAU,CAAC4B,IAAI,kBAAkBzB,YAAY,aAAaI,MAAM,CAAC,cAAc,MAAM,MAAQX,EAAImF,aAAa,MAAQnF,EAAIiC,QAAQ,CAAC7B,EAAG,eAAe,CAACO,MAAM,CAAC,KAAO,aAAa,CAACP,EAAG,WAAW,CAAC4B,IAAI,WAAWrB,MAAM,CAAC,YAAc,OAAOC,MAAM,CAACC,MAAOb,EAAImF,aAAqB,SAAErE,SAAS,SAAUC,GAAMf,EAAImC,KAAKnC,EAAImF,aAAc,WAAYpE,IAAME,WAAW,0BAA0B,CAACb,EAAG,IAAI,CAACG,YAAY,+BAA+BI,MAAM,CAAC,KAAO,UAAUc,KAAK,cAAc,GAAGrB,EAAG,eAAe,CAACO,MAAM,CAAC,KAAO,aAAa,CAACP,EAAG,WAAW,CAAC4B,IAAI,WAAWrB,MAAM,CAAC,KAAO,WAAW,YAAc,MAAMC,MAAM,CAACC,MAAOb,EAAImF,aAAqB,SAAErE,SAAS,SAAUC,GAAMf,EAAImC,KAAKnC,EAAImF,aAAc,WAAYpE,IAAME,WAAW,0BAA0B,CAACb,EAAG,IAAI,CAACG,YAAY,8BAA8BI,MAAM,CAAC,KAAO,UAAUc,KAAK,cAAc,GAAGrB,EAAG,eAAe,CAACO,MAAM,CAAC,KAAO,eAAe,CAACP,EAAG,WAAW,CAAC4B,IAAI,WAAWrB,MAAM,CAAC,KAAO,WAAW,YAAc,QAAQC,MAAM,CAACC,MAAOb,EAAImF,aAAuB,WAAErE,SAAS,SAAUC,GAAMf,EAAImC,KAAKnC,EAAImF,aAAc,aAAcpE,IAAME,WAAW,4BAA4B,CAACb,EAAG,IAAI,CAACG,YAAY,8BAA8BI,MAAM,CAAC,KAAO,UAAUc,KAAK,cAAc,GAAGrB,EAAG,eAAe,CAACA,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWH,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIoF,WAAW,sBAAsB,CAACpF,EAAIM,GAAG,WAAW,GAAGF,EAAG,eAAe,CAACA,EAAG,YAAY,CAACG,YAAY,OAAOC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIqF,YAAY,CAACrF,EAAIM,GAAG,WAAW,IAAI,IAAI,MACttD+B,EAAkB,G,wBC4EtB,GACEC,KADF,WACA,WACA,kBACM,GAAIzB,IAAU,EAApB,iCACMC,EAAS,IAAIwE,MAAM,sBAEzB,kBACM,IAAN,sBACUC,EAAMC,KAAK3E,IAAmB,IAATA,QAAwB4D,GAAT5D,EACtCC,IAEAA,EAAS,IAAIwE,MAAM,gBAG3B,EAAI,WAAJ,yKACA,kDADA,gBACA,EADA,EACA,KACA,MACA,uBAEA,IALA,kGAAI,GASJ,kBACM,IAAN,4BACUG,EAAWD,KAAK3E,GAClBC,IAEAA,EAAS,IAAIwE,MAAM,6BAGvB,MAAO,CACLH,aAAc,GAEdlD,MAAO,CACLyD,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,QACA,CAAU,UAAV,EAAU,QAAV,UACA,CAAU,UAAV,EAAU,QAAV,SAEQC,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,QACA,CACU,IAAV,EACU,IAAV,GACU,QAAV,iBACU,QAAV,UAEA,CAAU,UAAV,EAAU,QAAV,WAEQC,WAAY,CACpB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,QACA,CAAU,UAAV,EAAU,QAAV,cAKEC,QAzDF,WAyDA,WAEIC,SAASC,UAAY,SAAzB,GACM,IAAN,uBACmB,KAATC,GACF,EAAR,+BAIuC,KAA/B/F,KAAKkF,aAAaO,SACpBzF,KAAKuD,MAAMkC,SAASO,QAC1B,iCACMhG,KAAKuD,MAAMmC,SAASM,SAGxB7C,QAAS,CAEPgC,WAFJ,SAEA,cACMnF,KAAKuD,MAAMxB,GAAKyB,SAAhB,WAAN,0JACA,EADA,0CACA,GADA,qBAEA,0BACA,4BAHA,SAIA,6CAJA,gBAIA,EAJA,EAIA,KACA,cACA,YACA,eACA,kBAEA,QACA,wDACA,qBAEA,YACA,aACA,kBAhBA,8FAAM,KAqBF4B,OAxBJ,WAyBMpF,KAAKiG,QAAQC,IAAI,MC9K2T,I,wBCQ9UvC,EAAY,eACd,EACA7D,EACAsC,GACA,EACA,KACA,WACA,MAIa,aAAAuB,E,gFCnBf,IAAIgB,EAAkB,EAAQ,QAE1BC,EAAQD,EAAgB,SAE5BE,EAAOC,QAAU,SAAUqB,GACzB,IAAIC,EAAS,IACb,IACE,MAAMD,GAAaC,GACnB,MAAOC,GACP,IAEE,OADAD,EAAOxB,IAAS,EACT,MAAMuB,GAAaC,GAC1B,MAAOE,KACT,OAAO,I,kCCZX,IAAI1C,EAAI,EAAQ,QACZ2C,EAAY,EAAQ,QAA+BlD,SACnDmD,EAAmB,EAAQ,QAC3BC,EAA0B,EAAQ,QAElCC,EAAiBD,EAAwB,UAAW,CAAEE,WAAW,EAAMC,EAAG,IAI9EhD,EAAE,CAAEI,OAAQ,QAASC,OAAO,EAAMC,QAASwC,GAAkB,CAC3DrD,SAAU,SAAkBwD,GAC1B,OAAON,EAAUvG,KAAM6G,EAAIvC,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAKrEgC,EAAiB,a,yCCjBjB,IAAI1G,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,OAAOH,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,KAAK,CAACJ,EAAIM,GAAG,QAAQF,EAAG,UAAU,CAAC4B,IAAI,eAAezB,YAAY,aAAaI,MAAM,CAAC,cAAc,MAAM,MAAQX,EAAI+G,UAAU,MAAQ/G,EAAIiC,QAAQ,CAAC7B,EAAG,eAAe,CAACO,MAAM,CAAC,KAAO,aAAa,CAACP,EAAG,WAAW,CAAC4B,IAAI,WAAWrB,MAAM,CAAC,YAAc,OAAOC,MAAM,CAACC,MAAOb,EAAI+G,UAAkB,SAAEjG,SAAS,SAAUC,GAAMf,EAAImC,KAAKnC,EAAI+G,UAAW,WAAYhG,IAAME,WAAW,uBAAuB,CAACb,EAAG,IAAI,CAACG,YAAY,+BAA+BI,MAAM,CAAC,KAAO,UAAUc,KAAK,cAAc,GAAGrB,EAAG,eAAe,CAACO,MAAM,CAAC,KAAO,aAAa,CAACP,EAAG,WAAW,CAAC4B,IAAI,WAAWrB,MAAM,CAAC,KAAO,WAAW,YAAc,MAAMC,MAAM,CAACC,MAAOb,EAAI+G,UAAkB,SAAEjG,SAAS,SAAUC,GAAMf,EAAImC,KAAKnC,EAAI+G,UAAW,WAAYhG,IAAME,WAAW,uBAAuB,CAACb,EAAG,IAAI,CAACG,YAAY,8BAA8BI,MAAM,CAAC,KAAO,UAAUc,KAAK,cAAc,GAAGrB,EAAG,eAAe,CAACA,EAAG,YAAY,CAACO,MAAM,CAAC,KAAO,WAAWH,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIoF,WAAW,mBAAmB,CAACpF,EAAIM,GAAG,WAAW,GAAGF,EAAG,eAAe,CAACA,EAAG,cAAc,CAACO,MAAM,CAAC,GAAK,cAAc,CAACX,EAAIM,GAAG,mBAAmB,IAAI,IAAI,MAC/xC+B,EAAkB,G,wBC2DtB,GACEC,KADF,WAEI,MAAO,CACLyE,UAAW,GACX9E,MAAO,CACLyD,SAAU,CAAC,CAAnB,8CACQC,SAAU,CAAC,CAAnB,gDAIEE,QAVF,WAUA,WAEIC,SAASC,UAAY,SAAzB,GACM,IAAN,uBACmB,KAATC,GACF,EAAR,4BAIoC,KAA5B/F,KAAK8G,UAAUrB,SACjBzF,KAAKuD,MAAMkC,SAASO,QAC1B,8BACMhG,KAAKuD,MAAMmC,SAASM,SAGxB7C,QAAS,CAEPgC,WAFJ,SAEA,cACMnF,KAAKuD,MAAMxB,GAAKyB,SAAhB,WAAN,0JACA,EADA,0CACA,GADA,uBAEA,kCAFA,mBAEA,EAFA,EAEA,KACA,eACA,aAJA,oBAKA,kBALA,0CAMA,YACA,aACA,oBARA,QAWA,YACA,eACA,kBAEA,QACA,yBACA,wDACA,oBAlBA,wBAoBA,YACA,aACA,sBAtBA,+FAAM,OCxFyU,I,wBCQ3UG,EAAY,eACd,EACA7D,EACAsC,GACA,EACA,KACA,WACA,MAIa,aAAAuB,E","file":"js/login-index.5e40aec3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('h3',[_vm._v(\"相册\")]),_c('div',{staticClass:\"operation\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\" 创建相册 \")]),_c('el-input',{attrs:{\"placeholder\":\"请输入查询关键字\"},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}})],1),_c('ul',{staticClass:\"albumlist\"},_vm._l((_vm.albumlist),function(item){return _c('router-link',{key:item.albumid,attrs:{\"to\":'/album/' + item.albumid}},[_c('li',[_c('div',{staticClass:\"albumlist-img\"},[_c('el-image',{attrs:{\"src\":item.aPhoto ? _vm.dfUrl + item.aPhoto.photoaddress : '',\"width\":\"164px\",\"height\":\"164px\"}},[_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})])])],1),_c('div',{staticClass:\"albumlist-b\"},[_c('span',[_vm._v(_vm._s(item.albumname || '相册名称'))]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){$event.preventDefault();return _vm.del(item)}}})],1),_c('div',{staticClass:\"albumlist-desc\"},[_vm._v(\" \"+_vm._s(item.albumdescribe || '描述')+\" \")])])])}),1)]),_c('el-dialog',{attrs:{\"center\":\"\",\"visible\":_vm.dialogVisible,\"before-close\":_vm.handleClose,\"title\":\"创建相册\",\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"addalbumFormref\",attrs:{\"rules\":_vm.rules,\"model\":_vm.addalbumForm}},[_c('el-form-item',{attrs:{\"prop\":\"albumname\",\"label\":\"相册名称\"}},[_c('el-input',{model:{value:(_vm.addalbumForm.albumname),callback:function ($$v) {_vm.$set(_vm.addalbumForm, \"albumname\", $$v)},expression:\"addalbumForm.albumname\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.submit('addalbumFormref')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card>\r\n      <h3>相册</h3>\r\n      <div class=\"operation\">\r\n        <el-button @click=\"dialogVisible = true\">\r\n          创建相册\r\n        </el-button>\r\n        <el-input\r\n          v-model=\"query\"\r\n          placeholder=\"请输入查询关键字\"\r\n        />\r\n      </div>\r\n      <ul class=\"albumlist\">\r\n        <router-link\r\n          :to=\"'/album/' + item.albumid\"\r\n          v-for=\"item in albumlist\"\r\n          :key=\"item.albumid\"\r\n        >\r\n          <li>\r\n            <div class=\"albumlist-img\">\r\n              <el-image\r\n                :src=\"item.aPhoto ? dfUrl + item.aPhoto.photoaddress : ''\"\r\n                width=\"164px\"\r\n                height=\"164px\"\r\n              >\r\n                <div\r\n                  slot=\"error\"\r\n                  class=\"image-slot\"\r\n                >\r\n                  <i class=\"el-icon-picture-outline\" />\r\n                </div>\r\n              </el-image>\r\n            </div>\r\n            <div class=\"albumlist-b\">\r\n              <span>{{ item.albumname || '相册名称' }}</span>\r\n              <el-button\r\n                type=\"danger\"\r\n                size=\"mini\"\r\n                icon=\"el-icon-delete\"\r\n                @click.prevent=\"del(item)\"\r\n              />\r\n            </div>\r\n            <div class=\"albumlist-desc\">\r\n              {{ item.albumdescribe || '描述' }}\r\n            </div>\r\n          </li>\r\n        </router-link>\r\n      </ul>\r\n    </el-card>\r\n    <el-dialog\r\n      center\r\n      :visible.sync=\"dialogVisible\"\r\n      :before-close=\"handleClose\"\r\n      title=\"创建相册\"\r\n      width=\"50%\"\r\n    >\r\n      <el-form\r\n        :rules=\"rules\"\r\n        ref=\"addalbumFormref\"\r\n        :model=\"addalbumForm\"\r\n      >\r\n        <el-form-item\r\n          prop=\"albumname\"\r\n          label=\"相册名称\"\r\n        >\r\n          <el-input v-model=\"addalbumForm.albumname\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n      >\r\n        <el-button @click=\"submit('addalbumFormref')\">提交</el-button>\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      query: '',\r\n      id: JSON.parse(window.sessionStorage.user).userid || JSON.parse(window.sessionStorage.user).adminid,\r\n      dialogVisible: false,\r\n      dfUrl: 'http://localhost:10086/ps/',\r\n      albumlist: [{}],\r\n      allalbumlist: [],\r\n      addalbumForm: {},\r\n      rules: {\r\n        albumname: [{ required: true, message: '请输入相册名', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getalbumlist()\r\n    this.queryuserlist()\r\n  },\r\n  methods: {\r\n    // 获取用户相册\r\n    async getalbumlist () {\r\n      const { data: res } = await this.$http.get('album/list', { params: { userid: this.id } })\r\n      this.allalbumlist = res.obj\r\n    },\r\n    //\r\n    queryuserlist () {\r\n      const arr = []\r\n      this.allalbumlist.some(item => {\r\n        if (item.albumname.includes(this.query) || item.albumdesc.includes(this.query)) arr.push(item)\r\n      })\r\n      this.albumlist = arr\r\n    },\r\n    // 提交添加相册信息\r\n    submit (ref) {\r\n      this.$refs[ref].validate(async isvalidate => {\r\n        if (!isvalidate) return false\r\n        this.addalbumForm.albumuserid = this.userid\r\n        const { data: res } = await this.$http.post('user/addAlbum', this.addalbumForm)\r\n        this.handleClose()\r\n        this.getalbumlist()\r\n      })\r\n    },\r\n    async del (item) {\r\n      // 弹窗询问是否删除\r\n      const confirmres = await this.$confirm('是否确认删除该相册?', '确认删除', {\r\n        confirmButtonText: '确认',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n      if (confirmres != 'confirm') {\r\n        return this.$message.info('已取消删除')\r\n      }\r\n      const { albumid: id } = item\r\n      const { data: res } = await this.$http.delete('user/delAlbum', { params: { id } })\r\n      this.getalbumlist()\r\n    },\r\n    // 关闭对话框\r\n    handleClose () {\r\n      this.dialogVisible = false\r\n    }\r\n  },\r\n  watch: {\r\n    query (val) {\r\n      if (val) {\r\n        this.queryuserlist()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.el-card {\r\n  background-color: #e8f0d8;\r\n}\r\n.albumlist {\r\n  display: flex;\r\n  list-style: none;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  padding: 0;\r\n  margin-top: 20px;\r\n  li {\r\n    width: 174px;\r\n    height: 250px;\r\n    padding: 5px;\r\n    margin-bottom: 10px;\r\n    background-color: #fff;\r\n    box-shadow: 1px 1px 10px #3332;\r\n  }\r\n  a:not(:nth-child(7n)) > li {\r\n    margin-right: 11px;\r\n  }\r\n  .albumlist-b {\r\n    display: flex;\r\n    height: 46px;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  a:hover {\r\n    text-decoration: none;\r\n  }\r\n  .operation {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .el-input {\r\n      width: 200px;\r\n    }\r\n  }\r\n  .albumlist-desc {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7b7b15b4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7b7b15b4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b7b15b4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7b7b15b4&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7b7b15b4&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=df6e00a8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=df6e00a8&lang=less&scoped=true&\"","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=23dbf3b4&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=23dbf3b4&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_container\"},[_c('div'),_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"login_box\"},[_c('h1',[_vm._v(\"注册\")]),_c('el-form',{ref:\"registerFormref\",staticClass:\"login-form\",attrs:{\"lable-width\":\"0px\",\"model\":_vm.registerForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{ref:\"username\",attrs:{\"placeholder\":\"手机号\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}},[_c('i',{staticClass:\"el-input__icon el-icon-phone\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{ref:\"password\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"repassword\"}},[_c('el-input',{ref:\"password\",attrs:{\"type\":\"password\",\"placeholder\":\"确认密码\"},model:{value:(_vm.registerForm.repassword),callback:function ($$v) {_vm.$set(_vm.registerForm, \"repassword\", $$v)},expression:\"registerForm.repassword\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('registerFormref')}}},[_vm._v(\" 注册 \")])],1),_c('el-form-item',[_c('el-button',{staticClass:\"back\",on:{\"click\":function($event){return _vm.reback()}}},[_vm._v(\" 取消 \")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login_container\">\r\n    <div />\r\n    <div class=\"bg\" />\r\n    <div class=\"login_box\">\r\n      <h1>注册</h1>\r\n      <!-- 注册表单 -->\r\n      <el-form\r\n        lable-width=\"0px\"\r\n        class=\"login-form\"\r\n        ref=\"registerFormref\"\r\n        :model=\"registerForm\"\r\n        :rules=\"rules\"\r\n      >\r\n        <!-- 用户名 -->\r\n        <el-form-item prop=\"username\">\r\n          <el-input\r\n            v-model=\"registerForm.username\"\r\n            ref=\"username\"\r\n            placeholder=\"手机号\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-phone\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 密码 -->\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"registerForm.password\"\r\n            ref=\"password\"\r\n            placeholder=\"密码\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-lock\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 密码 -->\r\n        <el-form-item prop=\"repassword\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"registerForm.repassword\"\r\n            ref=\"password\"\r\n            placeholder=\"确认密码\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-lock\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 按钮 -->\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"submitForm('registerFormref')\"\r\n          >\r\n            注册\r\n          </el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n            @click=\"reback()\"\r\n            class=\"back\"\r\n          >\r\n            取消\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    const validaterepassword = (rele, value, callback) => {\r\n      if (value === this.registerForm.password) return callback()\r\n      callback(new Error('两次输入的密码不一致，请重新输入'))\r\n    }\r\n    const validatephone = (rele, value, callback) => {\r\n      const phone = /^1[3456789]\\d{9}$/\r\n      if (phone.test(value) || value == '' || value == undefined) {\r\n        callback()\r\n      } else {\r\n        callback(new Error('请输入正确的手机号码'))\r\n      }\r\n    }\r\n    const validatephone1 = async (rele, value, callback) => {\r\n      const { data: res } = await this.$http.get('user/isPhone', { params: { username: value } })\r\n      if (res.obj) {\r\n        callback(new Error('已注册手机号'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n\r\n    const validatePassWord = (rele, value, callback) => {\r\n      const v_password = /^[a-zA-Z][a-zA-Z0-9_]*$/\r\n      if (v_password.test(value)) {\r\n        callback()\r\n      } else {\r\n        callback(new Error('以英文字母开头，只能包含英文字母、数字、下划线'))\r\n      }\r\n    }\r\n    return {\r\n      registerForm: {},\r\n      // 表单验证规则\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { validator: validatephone, trigger: 'change' },\r\n          { validator: validatephone1, trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          {\r\n            min: 2,\r\n            max: 15,\r\n            message: '长度在 2 到 15 个字符',\r\n            trigger: 'change'\r\n          },\r\n          { validator: validatePassWord, trigger: 'change' }\r\n        ],\r\n        repassword: [\r\n          { required: true, message: '请确认密码', trigger: 'blur' },\r\n          { validator: validaterepassword, trigger: 'change' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 监听回车事件\r\n    document.onkeydown = e => {\r\n      const _key = window.event.keyCode\r\n      if (_key === 13) {\r\n        this.submitForm('registerFormref')\r\n      }\r\n    }\r\n    // 监听输入框内容，如果为空，则获取焦点\r\n    if (this.registerForm.username === '') {\r\n      this.$refs.username.focus()\r\n    } else if (this.registerForm.password === '') {\r\n      this.$refs.password.focus()\r\n    }\r\n  },\r\n  methods: {\r\n    // 提交表单\r\n    submitForm (ref) {\r\n      this.$refs[ref].validate(async isvalidate => {\r\n        if (!isvalidate) return false\r\n        delete this.registerForm.repassword\r\n        console.log(this.registerForm)\r\n        const { data: res } = await this.$http.post('user/doregist', this.registerForm)\r\n        if (res.code === 200) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '注册成功！'\r\n          })\r\n          const user = res.obj\r\n          window.sessionStorage.setItem('user', JSON.stringify(user))\r\n          this.$router.push('/')\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: '注册失败！'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    reback () {\r\n      this.$router.go(-1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\na:hover {\r\n  text-decoration: none;\r\n}\r\n.login_container {\r\n  height: 100%;\r\n  background: url('http://47.115.58.32:8080/img/login-bg.jpg') 100%;\r\n  background-color: rgb(46, 196, 183);\r\n}\r\n.bg {\r\n  width: 390px;\r\n  height: 480px;\r\n  border-radius: 4px;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.login-form {\r\n  width: 100%;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  .el-button {\r\n    width: 100%;\r\n  }\r\n  .el-form-item:last-child {\r\n    text-align: right;\r\n  }\r\n}\r\n.login_box {\r\n  width: 350px;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 4px;\r\n  h1 {\r\n    width: 100%;\r\n    margin: 20px 0;\r\n    text-align: center;\r\n    color: rgb(23, 160, 240);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=df6e00a8&scoped=true&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&id=df6e00a8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df6e00a8\",\n  null\n  \n)\n\nexport default component.exports","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_container\"},[_c('div'),_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"login_box\"},[_c('h1',[_vm._v(\"登录\")]),_c('el-form',{ref:\"loginFormref\",staticClass:\"login-form\",attrs:{\"lable-width\":\"0px\",\"model\":_vm.loginForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{ref:\"username\",attrs:{\"placeholder\":\"手机号\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}},[_c('i',{staticClass:\"el-input__icon el-icon-phone\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{ref:\"password\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('loginFormref')}}},[_vm._v(\" 登录 \")])],1),_c('el-form-item',[_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\" 还没有账号？立即注册 \")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login_container\">\r\n    <div />\r\n    <div class=\"bg\" />\r\n    <div class=\"login_box\">\r\n      <h1>登录</h1>\r\n      <!-- 登录表单 -->\r\n      <el-form\r\n        lable-width=\"0px\"\r\n        class=\"login-form\"\r\n        ref=\"loginFormref\"\r\n        :model=\"loginForm\"\r\n        :rules=\"rules\"\r\n      >\r\n        <!-- 用户名 -->\r\n        <el-form-item prop=\"username\">\r\n          <el-input\r\n            v-model=\"loginForm.username\"\r\n            ref=\"username\"\r\n            placeholder=\"手机号\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-phone\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 密码 -->\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"loginForm.password\"\r\n            ref=\"password\"\r\n            placeholder=\"密码\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-lock\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 按钮 -->\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"submitForm('loginFormref')\"\r\n          >\r\n            登录\r\n          </el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <router-link to=\"/register\">\r\n            还没有账号？立即注册\r\n          </router-link>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      loginForm: {},\r\n      rules: {\r\n        username: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\r\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 监听回车事件\r\n    document.onkeydown = e => {\r\n      const _key = window.event.keyCode\r\n      if (_key === 13) {\r\n        this.submitForm('loginFormref')\r\n      }\r\n    }\r\n    // 监听输入框内容，如果为空，则获取焦点\r\n    if (this.loginForm.username === '') {\r\n      this.$refs.username.focus()\r\n    } else if (this.loginForm.password === '') {\r\n      this.$refs.password.focus()\r\n    }\r\n  },\r\n  methods: {\r\n    // 提交表单\r\n    submitForm (ref) {\r\n      this.$refs[ref].validate(async isvalidate => {\r\n        if (!isvalidate) return false\r\n        const { data: res } = await this.$http.post('login', this.loginForm)\r\n        console.log(res)\r\n        if (res.code === 200) {\r\n          if (res.obj.userban === 2) {\r\n            return this.$message({\r\n              type: 'error',\r\n              message: '用户已被禁用'\r\n            })\r\n          }\r\n          this.$message({\r\n            type: 'success',\r\n            message: '登录成功！'\r\n          })\r\n          const user = res.obj\r\n          console.log(this.prototype)\r\n          window.sessionStorage.setItem('user', JSON.stringify(user))\r\n          this.$router.push('/')\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: '用户名或密码错误！'\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\na:hover {\r\n  text-decoration: none;\r\n}\r\n.login_container {\r\n  height: 100%;\r\n  background: url('http://47.115.58.32:8080/img/login-bg.jpg') 100%;\r\n  background-color: rgb(46, 196, 183);\r\n}\r\n.bg {\r\n  width: 390px;\r\n  height: 480px;\r\n  border-radius: 4px;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.login-form {\r\n  width: 100%;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  .el-button {\r\n    width: 100%;\r\n  }\r\n  .el-form-item:last-child {\r\n    text-align: right;\r\n  }\r\n}\r\n.login_box {\r\n  width: 350px;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 4px;\r\n  h1 {\r\n    width: 100%;\r\n    margin: 20px 0;\r\n    text-align: center;\r\n    color: rgb(23, 160, 240);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=23dbf3b4&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=23dbf3b4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23dbf3b4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}