{"version":3,"sources":["webpack:///./src/views/index.vue?9c0a","webpack:///src/views/index.vue","webpack:///./src/views/index.vue?980c","webpack:///./src/views/index.vue","webpack:///./src/views/index.vue?913d","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/views/register.vue?f2a1","webpack:///./src/views/login.vue?d19a","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/views/register.vue?ae05","webpack:///src/views/register.vue","webpack:///./src/views/register.vue?5434","webpack:///./src/views/register.vue","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/views/login.vue?231e","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2e0e","webpack:///./src/views/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","on","$event","dialogVisible","attrs","model","value","callback","$$v","query","expression","_l","item","key","albumid","to","aPhoto","albumtype","dfUrl","photoaddress","slot","_e","_s","albumname","handleCommand","type","albumdescribe","handleClose","ref","rules","addalbumForm","$set","submit","dialogVisible1","handleClose1","alteralbumForm","staticRenderFns","data","id","JSON","parse","window","sessionStorage","user","userid","adminid","isalter","albumlist","allalbumlist","created","getalbumlist","methods","queryuserlist","some","includes","arr","push","val","alter","del","$refs","validate","$router","$message","message","watch","component","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","searchString","String","indexOf","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","TypeError","registerForm","submitForm","reback","Error","phone","test","v_password","username","password","repassword","mounted","document","onkeydown","_key","focus","go","METHOD_NAME","regexp","e","f","$includes","addToUnscopables","arrayMethodUsesToLength","USES_TO_LENGTH","ACCESSORS","1","el","loginForm"],"mappings":"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","file":"js/login-index.0d9fc44f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('h3',[_vm._v(\"相册\")]),_c('div',{staticClass:\"operation\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\" 创建相册 \")]),_c('el-input',{attrs:{\"placeholder\":\"请输入查询关键字\"},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}})],1),_c('ul',{staticClass:\"albumlist\"},_vm._l((_vm.albumlist),function(item){return _c('li',{key:item.albumid,on:{\"click\":function($event){return _vm.to(item)}}},[_c('div',{staticClass:\"albumlist-img\"},[_c('el-image',{attrs:{\"src\":item.aPhoto && item.albumtype === 1 ? _vm.dfUrl + item.aPhoto.photoaddress : ''}},[(item.albumtype === 1)?_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})]):_vm._e(),(item.albumtype === 2)?_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-warning\"})]):_vm._e()])],1),_c('div',{staticClass:\"albumlist-b\"},[_c('span',[_vm._v(_vm._s(item.albumname || '相册名称'))]),_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" ...\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":{ type: 'alter', item: item }}},[_vm._v(\" 修改 \")]),_c('el-dropdown-item',{attrs:{\"command\":{ type: 'del', item: item }}},[_vm._v(\" 删除 \")])],1)],1)],1),_c('div',{staticClass:\"albumlist-desc\",attrs:{\"title\":item.albumdescribe}},[_vm._v(\" \"+_vm._s(item.albumdescribe || '描述')+\" \")])])}),0)]),_c('el-dialog',{attrs:{\"center\":\"\",\"visible\":_vm.dialogVisible,\"before-close\":_vm.handleClose,\"title\":\"创建相册\",\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"addalbumFormref\",attrs:{\"rules\":_vm.rules,\"model\":_vm.addalbumForm}},[_c('el-form-item',{attrs:{\"prop\":\"albumname\",\"label\":\"相册名称\"}},[_c('el-input',{model:{value:(_vm.addalbumForm.albumname),callback:function ($$v) {_vm.$set(_vm.addalbumForm, \"albumname\", $$v)},expression:\"addalbumForm.albumname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"albumdescribe\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.addalbumForm.albumdescribe),callback:function ($$v) {_vm.$set(_vm.addalbumForm, \"albumdescribe\", $$v)},expression:\"addalbumForm.albumdescribe\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.submit('addalbumFormref')}}},[_vm._v(\"提 交\")]),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")])],1)],1),_c('el-dialog',{attrs:{\"center\":\"\",\"visible\":_vm.dialogVisible1,\"before-close\":_vm.handleClose1,\"title\":\"修改描述\",\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible1=$event}}},[_c('el-form',{ref:\"alteralbumFormref\",attrs:{\"rules\":_vm.rules,\"model\":_vm.alteralbumForm}},[_c('el-form-item',{attrs:{\"prop\":\"albumname\",\"label\":\"相册名称\"}},[_c('el-input',{model:{value:(_vm.alteralbumForm.albumname),callback:function ($$v) {_vm.$set(_vm.alteralbumForm, \"albumname\", $$v)},expression:\"alteralbumForm.albumname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"albumdescribe\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.alteralbumForm.albumdescribe),callback:function ($$v) {_vm.$set(_vm.alteralbumForm, \"albumdescribe\", $$v)},expression:\"alteralbumForm.albumdescribe\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.submit('alteralbumFormref')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible1 = false}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card>\r\n      <h3>相册</h3>\r\n      <div class=\"operation\">\r\n        <el-button @click=\"dialogVisible = true\">\r\n          创建相册\r\n        </el-button>\r\n        <el-input\r\n          v-model=\"query\"\r\n          placeholder=\"请输入查询关键字\"\r\n        />\r\n      </div>\r\n      <ul class=\"albumlist\">\r\n        <li\r\n          v-for=\"item in albumlist\"\r\n          :key=\"item.albumid\"\r\n          @click=\"to(item)\"\r\n        >\r\n          <div class=\"albumlist-img\">\r\n            <el-image :src=\"item.aPhoto && item.albumtype === 1 ? dfUrl + item.aPhoto.photoaddress : ''\">\r\n              <div\r\n                slot=\"error\"\r\n                class=\"image-slot\"\r\n                v-if=\"item.albumtype === 1\"\r\n              >\r\n                <i class=\"el-icon-picture-outline\" />\r\n              </div>\r\n              <div\r\n                slot=\"error\"\r\n                class=\"image-slot\"\r\n                v-if=\"item.albumtype === 2\"\r\n              >\r\n                <i class=\"el-icon-warning\" />\r\n              </div>\r\n            </el-image>\r\n          </div>\r\n          <div class=\"albumlist-b\">\r\n            <span>{{ item.albumname || '相册名称' }}</span>\r\n            <el-dropdown @command=\"handleCommand\">\r\n              <span class=\"el-dropdown-link\"> ...<i class=\"el-icon-arrow-down el-icon--right\" /> </span>\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item :command=\"{ type: 'alter', item }\">\r\n                  修改\r\n                </el-dropdown-item>\r\n                <el-dropdown-item :command=\"{ type: 'del', item }\">\r\n                  删除\r\n                </el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>\r\n          <div\r\n            class=\"albumlist-desc\"\r\n            :title=\"item.albumdescribe\"\r\n          >\r\n            {{ item.albumdescribe || '描述' }}\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </el-card>\r\n    <el-dialog\r\n      center\r\n      :visible.sync=\"dialogVisible\"\r\n      :before-close=\"handleClose\"\r\n      title=\"创建相册\"\r\n      width=\"50%\"\r\n    >\r\n      <el-form\r\n        :rules=\"rules\"\r\n        ref=\"addalbumFormref\"\r\n        :model=\"addalbumForm\"\r\n      >\r\n        <el-form-item\r\n          prop=\"albumname\"\r\n          label=\"相册名称\"\r\n        >\r\n          <el-input v-model=\"addalbumForm.albumname\" />\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"描述\"\r\n          prop=\"albumdescribe\"\r\n        >\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"addalbumForm.albumdescribe\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n      >\r\n        <el-button @click=\"submit('addalbumFormref')\">提 交</el-button>\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-dialog\r\n      center\r\n      :visible.sync=\"dialogVisible1\"\r\n      :before-close=\"handleClose1\"\r\n      title=\"修改描述\"\r\n      width=\"50%\"\r\n    >\r\n      <el-form\r\n        :rules=\"rules\"\r\n        ref=\"alteralbumFormref\"\r\n        :model=\"alteralbumForm\"\r\n      >\r\n        <el-form-item\r\n          prop=\"albumname\"\r\n          label=\"相册名称\"\r\n        >\r\n          <el-input v-model=\"alteralbumForm.albumname\" />\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"描述\"\r\n          prop=\"albumdescribe\"\r\n        >\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"alteralbumForm.albumdescribe\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n      >\r\n        <el-button @click=\"submit('alteralbumFormref')\">提交</el-button>\r\n        <el-button @click=\"dialogVisible1 = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      query: '',\r\n      id: JSON.parse(window.sessionStorage.user).userid || JSON.parse(window.sessionStorage.user).adminid,\r\n      dialogVisible: false,\r\n      dialogVisible1: false,\r\n      isalter: false,\r\n      dfUrl: 'http://localhost:10086/ps/',\r\n      albumlist: [{}],\r\n      allalbumlist: [],\r\n      addalbumForm: {},\r\n      alteralbumForm: {},\r\n      rules: {\r\n        albumname: [{ required: true, message: '请输入相册名', trigger: 'blur' }],\r\n        albumdescribe: [{ required: true, message: '请输入相册描述', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getalbumlist()\r\n  },\r\n  methods: {\r\n    // 获取用户相册\r\n    async getalbumlist () {\r\n      const { data: res } = await this.$http.get('album/list', { params: { id: this.id } })\r\n      if (res.code === 200) {\r\n        this.allalbumlist = res.obj\r\n        this.queryuserlist()\r\n      }\r\n    },\r\n    // 搜索相册\r\n    queryuserlist () {\r\n      const arr = []\r\n      this.allalbumlist.some(item => {\r\n        if (item.albumname.includes(this.query) || item.albumdescribe.includes(this.query)) {\r\n          arr.push(item)\r\n        }\r\n      })\r\n      this.albumlist = arr\r\n    },\r\n    handleCommand (val) {\r\n      if (val.type === 'alter') {\r\n        this.alter(val.item)\r\n      }\r\n      if (val.type === 'del') {\r\n        this.del(val.item)\r\n      }\r\n    },\r\n    // 修改相册描述\r\n    alter (item) {\r\n      this.dialogVisible1 = true\r\n      console.log(item)\r\n      this.alteralbumForm = item\r\n      this.isalter = true\r\n    },\r\n    // 提交添加相册信息\r\n    submit (ref) {\r\n      this.$refs[ref].validate(async isvalidate => {\r\n        if (!isvalidate) return false\r\n        console.log(this.alteralbumForm)\r\n        console.log(this.addalbumForm)\r\n        if (this.isalter) {\r\n          console.log(this.alteralbumForm)\r\n          const { albumid: id, albumdescribe: changeWord } = this.alteralbumForm\r\n          const { data: res } = await this.$http.post('user/updateAlbum', { id, changeWord })\r\n          console.log(res)\r\n          this.handleClose1()\r\n        } else {\r\n          this.addalbumForm.albumuserid = this.id\r\n          const { data: res } = await this.$http.post('user/addAlbum', this.addalbumForm)\r\n          console.log(res)\r\n          if (res.code === 200) {\r\n            this.getalbumlist()\r\n            this.queryuserlist()\r\n            this.handleClose()\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 删除相册\r\n    async del (item) {\r\n      // 弹窗询问是否删除\r\n      const confirmres = await this.$confirm('是否确认删除该相册?', '确认删除', {\r\n        confirmButtonText: '确认',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n      if (confirmres != 'confirm') {\r\n        return this.$message.info('已取消删除')\r\n      }\r\n      const { albumid: id } = item\r\n      const { data: res } = await this.$http.get('user/delAlbum', { params: { id } })\r\n      if (res.code === 200) {\r\n        this.getalbumlist()\r\n        this.queryuserlist()\r\n      }\r\n    },\r\n    // 跳转相册\r\n    to (item) {\r\n      if (item.albumtype === 1) {\r\n        this.$router.push('/album/' + item.albumid)\r\n      } else {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '相册已被禁用'\r\n        })\r\n      }\r\n    },\r\n    // 关闭对话框\r\n    handleClose () {\r\n      this.dialogVisible = false\r\n    },\r\n    // 关闭对话框\r\n    handleClose1 () {\r\n      this.dialogVisible1 = false\r\n    }\r\n  },\r\n  watch: {\r\n    query (val) {\r\n      this.queryuserlist()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.el-card {\r\n  background-color: #e8f0d8;\r\n}\r\n.albumlist {\r\n  display: flex;\r\n  list-style: none;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  padding: 0;\r\n  margin-top: 20px;\r\n  li {\r\n    width: 174px;\r\n    height: 250px;\r\n    padding: 5px;\r\n    cursor: pointer;\r\n    margin-bottom: 10px;\r\n    background-color: #fff;\r\n    box-shadow: 1px 1px 10px #3332;\r\n  }\r\n  li:not(:nth-child(7n)) {\r\n    margin-right: 11px;\r\n  }\r\n  a:not(:nth-child(7n)) > li {\r\n    margin-right: 11px;\r\n  }\r\n  .albumlist-b {\r\n    display: flex;\r\n    height: 46px;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  a:hover,\r\n  a:focus {\r\n    text-decoration: none;\r\n  }\r\n}\r\n.operation {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  .el-input {\r\n    width: 200px;\r\n  }\r\n}\r\n.albumlist-img {\r\n  width: 100%;\r\n  height: 109px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  i {\r\n    font-size: 40px;\r\n  }\r\n}\r\n.albumlist-desc {\r\n  height: 80px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3c344c43&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3c344c43&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c344c43\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3c344c43&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3c344c43&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=df6e00a8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=df6e00a8&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=67c3c9e8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=67c3c9e8&lang=less&scoped=true&\"","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_container\"},[_c('div'),_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"login_box\"},[_c('h1',[_vm._v(\"注册\")]),_c('el-form',{ref:\"registerFormref\",staticClass:\"login-form\",attrs:{\"lable-width\":\"0px\",\"model\":_vm.registerForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{ref:\"username\",attrs:{\"placeholder\":\"手机号\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}},[_c('i',{staticClass:\"el-input__icon el-icon-phone\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{ref:\"password\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"repassword\"}},[_c('el-input',{ref:\"password\",attrs:{\"type\":\"password\",\"placeholder\":\"确认密码\"},model:{value:(_vm.registerForm.repassword),callback:function ($$v) {_vm.$set(_vm.registerForm, \"repassword\", $$v)},expression:\"registerForm.repassword\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('registerFormref')}}},[_vm._v(\" 注册 \")])],1),_c('el-form-item',[_c('el-button',{staticClass:\"back\",on:{\"click\":function($event){return _vm.reback()}}},[_vm._v(\" 取消 \")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login_container\">\r\n    <div />\r\n    <div class=\"bg\" />\r\n    <div class=\"login_box\">\r\n      <h1>注册</h1>\r\n      <!-- 注册表单 -->\r\n      <el-form\r\n        lable-width=\"0px\"\r\n        class=\"login-form\"\r\n        ref=\"registerFormref\"\r\n        :model=\"registerForm\"\r\n        :rules=\"rules\"\r\n      >\r\n        <!-- 用户名 -->\r\n        <el-form-item prop=\"username\">\r\n          <el-input\r\n            v-model=\"registerForm.username\"\r\n            ref=\"username\"\r\n            placeholder=\"手机号\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-phone\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 密码 -->\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"registerForm.password\"\r\n            ref=\"password\"\r\n            placeholder=\"密码\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-lock\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 密码 -->\r\n        <el-form-item prop=\"repassword\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"registerForm.repassword\"\r\n            ref=\"password\"\r\n            placeholder=\"确认密码\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-lock\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 按钮 -->\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"submitForm('registerFormref')\"\r\n          >\r\n            注册\r\n          </el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n            @click=\"reback()\"\r\n            class=\"back\"\r\n          >\r\n            取消\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    const validaterepassword = (rele, value, callback) => {\r\n      if (value === this.registerForm.password) return callback()\r\n      callback(new Error('两次输入的密码不一致，请重新输入'))\r\n    }\r\n    const validatephone = (rele, value, callback) => {\r\n      const phone = /^1[3456789]\\d{9}$/\r\n      if (phone.test(value) || value == '' || value == undefined) {\r\n        callback()\r\n      } else {\r\n        callback(new Error('请输入正确的手机号码'))\r\n      }\r\n    }\r\n    const validatephone1 = async (rele, value, callback) => {\r\n      const { data: res } = await this.$http.get('user/isPhone', { params: { username: value } })\r\n      if (res.obj) {\r\n        callback(new Error('已注册手机号'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n\r\n    const validatePassWord = (rele, value, callback) => {\r\n      const v_password = /^[a-zA-Z][a-zA-Z0-9_]*$/\r\n      if (v_password.test(value)) {\r\n        callback()\r\n      } else {\r\n        callback(new Error('以英文字母开头，只能包含英文字母、数字、下划线'))\r\n      }\r\n    }\r\n    return {\r\n      registerForm: {},\r\n      // 表单验证规则\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { validator: validatephone, trigger: 'change' },\r\n          { validator: validatephone1, trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          {\r\n            min: 2,\r\n            max: 15,\r\n            message: '长度在 2 到 15 个字符',\r\n            trigger: 'change'\r\n          },\r\n          { validator: validatePassWord, trigger: 'change' }\r\n        ],\r\n        repassword: [\r\n          { required: true, message: '请确认密码', trigger: 'blur' },\r\n          { validator: validaterepassword, trigger: 'change' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 监听回车事件\r\n    document.onkeydown = e => {\r\n      const _key = window.event.keyCode\r\n      if (_key === 13) {\r\n        this.submitForm('registerFormref')\r\n      }\r\n    }\r\n    // 监听输入框内容，如果为空，则获取焦点\r\n    if (this.registerForm.username === '') {\r\n      this.$refs.username.focus()\r\n    } else if (this.registerForm.password === '') {\r\n      this.$refs.password.focus()\r\n    }\r\n  },\r\n  methods: {\r\n    // 提交表单\r\n    submitForm (ref) {\r\n      this.$refs[ref].validate(async isvalidate => {\r\n        if (!isvalidate) return false\r\n        delete this.registerForm.repassword\r\n        console.log(this.registerForm)\r\n        const { data: res } = await this.$http.post('user/doregist', this.registerForm)\r\n        if (res.code === 200) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '注册成功！'\r\n          })\r\n          const user = res.obj\r\n          window.sessionStorage.setItem('user', JSON.stringify(user))\r\n          this.$router.push('/')\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: '注册失败！'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    reback () {\r\n      this.$router.go(-1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\na:hover {\r\n  text-decoration: none;\r\n}\r\n.login_container {\r\n  height: 100%;\r\n  background: url('http://47.115.58.32:8080/img/login-bg.jpg') 100%;\r\n  background-color: rgb(46, 196, 183);\r\n}\r\n.bg {\r\n  width: 390px;\r\n  height: 480px;\r\n  border-radius: 4px;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.login-form {\r\n  width: 100%;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  .el-button {\r\n    width: 100%;\r\n  }\r\n  .el-form-item:last-child {\r\n    text-align: right;\r\n  }\r\n}\r\n.login_box {\r\n  width: 350px;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 4px;\r\n  h1 {\r\n    width: 100%;\r\n    margin: 20px 0;\r\n    text-align: center;\r\n    color: rgb(23, 160, 240);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=df6e00a8&scoped=true&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&id=df6e00a8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df6e00a8\",\n  null\n  \n)\n\nexport default component.exports","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_container\"},[_c('div'),_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"login_box\"},[_c('h1',[_vm._v(\"登录\")]),_c('el-form',{ref:\"loginFormref\",staticClass:\"login-form\",attrs:{\"lable-width\":\"0px\",\"model\":_vm.loginForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{ref:\"username\",attrs:{\"placeholder\":\"手机号\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}},[_c('i',{staticClass:\"el-input__icon el-icon-phone\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{ref:\"password\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('loginFormref')}}},[_vm._v(\" 登录 \")])],1),_c('el-form-item',[_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\" 还没有账号？立即注册 \")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login_container\">\r\n    <div />\r\n    <div class=\"bg\" />\r\n    <div class=\"login_box\">\r\n      <h1>登录</h1>\r\n      <!-- 登录表单 -->\r\n      <el-form\r\n        lable-width=\"0px\"\r\n        class=\"login-form\"\r\n        ref=\"loginFormref\"\r\n        :model=\"loginForm\"\r\n        :rules=\"rules\"\r\n      >\r\n        <!-- 用户名 -->\r\n        <el-form-item prop=\"username\">\r\n          <el-input\r\n            v-model=\"loginForm.username\"\r\n            ref=\"username\"\r\n            placeholder=\"手机号\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-phone\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 密码 -->\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"loginForm.password\"\r\n            ref=\"password\"\r\n            placeholder=\"密码\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-lock\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 按钮 -->\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"submitForm('loginFormref')\"\r\n          >\r\n            登录\r\n          </el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <router-link to=\"/register\">\r\n            还没有账号？立即注册\r\n          </router-link>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      loginForm: {},\r\n      rules: {\r\n        username: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\r\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 监听回车事件\r\n    document.onkeydown = e => {\r\n      const _key = window.event.keyCode\r\n      if (_key === 13) {\r\n        this.submitForm('loginFormref')\r\n      }\r\n    }\r\n    // 监听输入框内容，如果为空，则获取焦点\r\n    if (this.loginForm.username === '') {\r\n      this.$refs.username.focus()\r\n    } else if (this.loginForm.password === '') {\r\n      this.$refs.password.focus()\r\n    }\r\n  },\r\n  methods: {\r\n    // 提交表单\r\n    submitForm (ref) {\r\n      this.$refs[ref].validate(async isvalidate => {\r\n        if (!isvalidate) return false\r\n        const { data: res } = await this.$http.post('login', this.loginForm)\r\n        console.log(res)\r\n        if (res.code === 200) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '登录成功！'\r\n          })\r\n          const user = res.obj\r\n          window.sessionStorage.setItem('user', JSON.stringify(user))\r\n          this.$router.push('/')\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: res.obj\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\na:hover {\r\n  text-decoration: none;\r\n}\r\n.login_container {\r\n  height: 100%;\r\n  background: url('http://47.115.58.32:8080/img/login-bg.jpg') 100%;\r\n  background-color: rgb(46, 196, 183);\r\n}\r\n.bg {\r\n  width: 390px;\r\n  height: 480px;\r\n  border-radius: 4px;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.login-form {\r\n  width: 100%;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  .el-button {\r\n    width: 100%;\r\n  }\r\n  .el-form-item:last-child {\r\n    text-align: right;\r\n  }\r\n}\r\n.login_box {\r\n  width: 350px;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 4px;\r\n  h1 {\r\n    width: 100%;\r\n    margin: 20px 0;\r\n    text-align: center;\r\n    color: rgb(23, 160, 240);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=67c3c9e8&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=67c3c9e8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67c3c9e8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}