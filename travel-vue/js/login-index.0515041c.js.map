{"version":3,"sources":["webpack:///./src/views/index.vue?8c43","webpack:///src/views/index.vue","webpack:///./src/views/index.vue?980c","webpack:///./src/views/index.vue","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./src/views/register.vue?f2a1","webpack:///./src/views/login.vue?d19a","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/views/register.vue?ae05","webpack:///src/views/register.vue","webpack:///./src/views/register.vue?5434","webpack:///./src/views/register.vue","webpack:///./src/views/index.vue?72db","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./src/views/login.vue?231e","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2e0e","webpack:///./src/views/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","user","_e","status","on","$event","dialogVisible","attrs","model","value","callback","$$v","query","expression","_l","item","key","albumid","to","aPhoto","albumtype","dfUrl","photoaddress","slot","_s","albumname","handleCommand","type","albumdescribe","handleClose","ref","rules","addalbumForm","$set","submit","dialogVisible1","handleClose1","alteralbumForm","staticRenderFns","data","JSON","parse","window","sessionStorage","id","userid","adminid","isalter","albumlist","allalbumlist","created","getalbumlist","methods","queryuserlist","some","includes","arr","push","val","alter","del","$refs","validate","$router","$message","message","watch","component","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","searchString","String","indexOf","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","TypeError","registerForm","submitForm","reback","Error","phone","test","v_password","username","password","repassword","mounted","document","onkeydown","_key","focus","go","METHOD_NAME","regexp","e","f","$includes","addToUnscopables","arrayMethodUsesToLength","USES_TO_LENGTH","ACCESSORS","1","el","loginForm"],"mappings":"sHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,QAAQF,EAAG,MAAM,CAACG,YAAY,aAAa,CAAEP,EAAIQ,KAAW,OAAEJ,EAAG,OAAOJ,EAAIS,KAAOT,EAAIQ,KAAKE,OAAqGV,EAAIS,KAAjGL,EAAG,YAAY,CAACO,GAAG,CAAC,MAAQ,SAASC,GAAQZ,EAAIa,eAAgB,KAAQ,CAACb,EAAIM,GAAG,YAAqBF,EAAG,WAAW,CAACU,MAAM,CAAC,YAAc,YAAYC,MAAM,CAACC,MAAOhB,EAAS,MAAEiB,SAAS,SAAUC,GAAMlB,EAAImB,MAAMD,GAAKE,WAAW,YAAY,GAAGhB,EAAG,KAAK,CAACG,YAAY,aAAaP,EAAIqB,GAAIrB,EAAa,WAAE,SAASsB,GAAM,OAAOlB,EAAG,KAAK,CAACmB,IAAID,EAAKE,QAAQb,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIyB,GAAGH,MAAS,CAAClB,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,WAAW,CAACU,MAAM,CAAC,IAAM,QAAQ,IAAMQ,EAAKI,QAA6B,IAAnBJ,EAAKK,UAAkB3B,EAAI4B,MAAQN,EAAKI,OAAOG,aAAe,KAAK,CAAqB,IAAnBP,EAAKK,UAAiBvB,EAAG,MAAM,CAACG,YAAY,aAAaO,MAAM,CAAC,KAAO,SAASgB,KAAK,SAAS,CAAC1B,EAAG,IAAI,CAACG,YAAY,8BAA8BP,EAAIS,KAAyB,IAAnBa,EAAKK,UAAiBvB,EAAG,MAAM,CAACG,YAAY,aAAaO,MAAM,CAAC,KAAO,SAASgB,KAAK,SAAS,CAAC1B,EAAG,IAAI,CAACG,YAAY,sBAAsBP,EAAIS,QAAQ,GAAGL,EAAG,MAAM,CAACG,YAAY,eAAe,CAACH,EAAG,OAAO,CAACJ,EAAIM,GAAGN,EAAI+B,GAAGT,EAAKU,WAAa,WAAahC,EAAIQ,KAAKE,OAAibV,EAAIS,KAA7aL,EAAG,cAAc,CAACO,GAAG,CAAC,QAAUX,EAAIiC,gBAAgB,CAAC7B,EAAG,OAAO,CAACG,YAAY,oBAAoB,CAACP,EAAIM,GAAG,QAAQF,EAAG,IAAI,CAACG,YAAY,wCAAwCH,EAAG,mBAAmB,CAACU,MAAM,CAAC,KAAO,YAAYgB,KAAK,YAAY,CAAC1B,EAAG,mBAAmB,CAACU,MAAM,CAAC,QAAU,CAAEoB,KAAM,QAASZ,KAAMA,KAAS,CAACtB,EAAIM,GAAG,UAAUF,EAAG,mBAAmB,CAACU,MAAM,CAAC,QAAU,CAAEoB,KAAM,MAAOZ,KAAMA,KAAS,CAACtB,EAAIM,GAAG,WAAW,IAAI,IAAa,GAAGF,EAAG,MAAM,CAACG,YAAY,iBAAiBO,MAAM,CAAC,MAAQQ,EAAKa,gBAAgB,CAACnC,EAAIM,GAAG,IAAIN,EAAI+B,GAAGT,EAAKa,eAAiB,MAAM,YAAW,KAAK/B,EAAG,YAAY,CAACU,MAAM,CAAC,OAAS,GAAG,QAAUd,EAAIa,cAAc,eAAeb,EAAIoC,YAAY,MAAQ,OAAO,MAAQ,OAAOzB,GAAG,CAAC,iBAAiB,SAASC,GAAQZ,EAAIa,cAAcD,KAAU,CAACR,EAAG,UAAU,CAACiC,IAAI,kBAAkBvB,MAAM,CAAC,MAAQd,EAAIsC,MAAM,MAAQtC,EAAIuC,eAAe,CAACnC,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,YAAY,MAAQ,SAAS,CAACV,EAAG,WAAW,CAACW,MAAM,CAACC,MAAOhB,EAAIuC,aAAsB,UAAEtB,SAAS,SAAUC,GAAMlB,EAAIwC,KAAKxC,EAAIuC,aAAc,YAAarB,IAAME,WAAW,6BAA6B,GAAGhB,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,KAAK,KAAO,kBAAkB,CAACV,EAAG,WAAW,CAACU,MAAM,CAAC,KAAO,YAAYC,MAAM,CAACC,MAAOhB,EAAIuC,aAA0B,cAAEtB,SAAS,SAAUC,GAAMlB,EAAIwC,KAAKxC,EAAIuC,aAAc,gBAAiBrB,IAAME,WAAW,iCAAiC,IAAI,GAAGhB,EAAG,OAAO,CAACG,YAAY,gBAAgBO,MAAM,CAAC,KAAO,UAAUgB,KAAK,UAAU,CAAC1B,EAAG,YAAY,CAACO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIyC,OAAO,sBAAsB,CAACzC,EAAIM,GAAG,SAASF,EAAG,YAAY,CAACO,GAAG,CAAC,MAAQ,SAASC,GAAQZ,EAAIa,eAAgB,KAAS,CAACb,EAAIM,GAAG,UAAU,IAAI,GAAGF,EAAG,YAAY,CAACU,MAAM,CAAC,OAAS,GAAG,QAAUd,EAAI0C,eAAe,eAAe1C,EAAI2C,aAAa,MAAQ,OAAO,MAAQ,OAAOhC,GAAG,CAAC,iBAAiB,SAASC,GAAQZ,EAAI0C,eAAe9B,KAAU,CAACR,EAAG,UAAU,CAACiC,IAAI,oBAAoBvB,MAAM,CAAC,MAAQd,EAAIsC,MAAM,MAAQtC,EAAI4C,iBAAiB,CAACxC,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,YAAY,MAAQ,SAAS,CAACV,EAAG,WAAW,CAACW,MAAM,CAACC,MAAOhB,EAAI4C,eAAwB,UAAE3B,SAAS,SAAUC,GAAMlB,EAAIwC,KAAKxC,EAAI4C,eAAgB,YAAa1B,IAAME,WAAW,+BAA+B,GAAGhB,EAAG,eAAe,CAACU,MAAM,CAAC,MAAQ,KAAK,KAAO,kBAAkB,CAACV,EAAG,WAAW,CAACU,MAAM,CAAC,KAAO,YAAYC,MAAM,CAACC,MAAOhB,EAAI4C,eAA4B,cAAE3B,SAAS,SAAUC,GAAMlB,EAAIwC,KAAKxC,EAAI4C,eAAgB,gBAAiB1B,IAAME,WAAW,mCAAmC,IAAI,GAAGhB,EAAG,OAAO,CAACG,YAAY,gBAAgBO,MAAM,CAAC,KAAO,UAAUgB,KAAK,UAAU,CAAC1B,EAAG,YAAY,CAACO,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIyC,OAAO,wBAAwB,CAACzC,EAAIM,GAAG,QAAQF,EAAG,YAAY,CAACO,GAAG,CAAC,MAAQ,SAASC,GAAQZ,EAAI0C,gBAAiB,KAAS,CAAC1C,EAAIM,GAAG,UAAU,IAAI,IAAI,IACr3HuC,EAAkB,G,sDCgJtB,GACEC,KADF,WAEI,MAAO,CACL3B,MAAO,GACPX,KAAMuC,KAAKC,MAAMC,OAAOC,eAAe1C,MACvC2C,GAAIJ,KAAKC,MAAMC,OAAOC,eAAe1C,MAAM4C,QAAUL,KAAKC,MAAMC,OAAOC,eAAe1C,MAAM6C,QAC5FxC,eAAe,EACf6B,gBAAgB,EAChBY,SAAS,EACT1B,MAAO,6BACP2B,UAAW,CAAC,IACZC,aAAc,GACdjB,aAAc,GACdK,eAAgB,GAChBN,MAAO,CACLN,UAAW,CAAC,CAApB,8CACQG,cAAe,CAAC,CAAxB,kDAIEsB,QApBF,WAqBIxD,KAAKyD,gBAEPC,QAAS,CAEP,aAFJ,WAEA,gLACA,6CADA,gBACA,EADA,EACA,KACA,eACA,qBACA,mBAJA,8CAQIC,cAVJ,WAUA,WACA,KACM3D,KAAKuD,aAAaK,MAAK,SAA7B,IACYvC,EAAKU,UAAU8B,SAAS,EAApC,4CACUC,EAAIC,KAAK1C,MAGbrB,KAAKsD,UAAYQ,GAEnB9B,cAnBJ,SAmBA,GACuB,UAAbgC,EAAI/B,MACNjC,KAAKiE,MAAMD,EAAI3C,MAEA,QAAb2C,EAAI/B,MACNjC,KAAKkE,IAAIF,EAAI3C,OAIjB4C,MA5BJ,SA4BA,GACMjE,KAAKyC,gBAAiB,EAEtBzC,KAAK2C,eAAiBtB,EACtBrB,KAAKqD,SAAU,GAGjBb,OAnCJ,SAmCA,cACMxC,KAAKmE,MAAM/B,GAAKgC,SAAhB,WAAN,gKACA,EADA,0CACA,GADA,WAIA,UAJA,0BAMA,mBANA,EAMA,UANA,EAMA,cANA,SAOA,qDAPA,kBAOA,KAEA,iBATA,+BAWA,gCAXA,UAYA,6CAZA,iBAYA,EAZA,EAYA,KAEA,eACA,iBACA,kBACA,iBAjBA,+FAAM,KAuBF,IA3DJ,SA2DA,uLAEA,gCACA,uBACA,sBACA,iBACA,+BANA,UAEA,EAFA,OAOA,aAPA,yCAQA,0BARA,cAUA,YAVA,SAWA,6CAXA,gBAWA,EAXA,EAWA,KACA,eACA,iBACA,mBAdA,+CAkBI5C,GA7EJ,SA6EA,GAC6B,IAAnBH,EAAKK,UACP1B,KAAKqE,QAAQN,KAAK,UAAY1C,EAAKE,SAEnCvB,KAAKsE,SAAS,CACZrC,KAAM,QACNsC,QAAS,YAKfpC,YAxFJ,WAyFMnC,KAAKY,eAAgB,GAGvB8B,aA5FJ,WA6FM1C,KAAKyC,gBAAiB,IAG1B+B,MAAO,CACLtD,MADJ,SACA,GACMlB,KAAK2D,mBC1QoU,I,wBCQ3Uc,EAAY,eACd,EACA3E,EACA8C,GACA,EACA,KACA,WACA,MAIa,aAAA6B,E,2CClBf,IAAIC,EAAI,EAAQ,QACZC,EAAa,EAAQ,QACrBC,EAAyB,EAAQ,QACjCC,EAAuB,EAAQ,QAInCH,EAAE,CAAEI,OAAQ,SAAUC,OAAO,EAAMC,QAASH,EAAqB,aAAe,CAC9EhB,SAAU,SAAkBoB,GAC1B,SAAUC,OAAON,EAAuB5E,OACrCmF,QAAQR,EAAWM,GAAeG,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,kCCX/E,yBAAyiB,EAAG,G,oCCA5iB,yBAAsiB,EAAG,G,uBCAziB,IAAIC,EAAW,EAAQ,QACnBC,EAAU,EAAQ,QAClBC,EAAkB,EAAQ,QAE1BC,EAAQD,EAAgB,SAI5BE,EAAOC,QAAU,SAAUC,GACzB,IAAIC,EACJ,OAAOP,EAASM,UAAmCP,KAA1BQ,EAAWD,EAAGH,MAA0BI,EAA0B,UAAfN,EAAQK,M,uBCVtF,IAAIC,EAAW,EAAQ,QAEvBH,EAAOC,QAAU,SAAUC,GACzB,GAAIC,EAASD,GACX,MAAME,UAAU,iDAChB,OAAOF,I,gECLX,IAAI/F,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,OAAOH,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,KAAK,CAACJ,EAAIM,GAAG,QAAQF,EAAG,UAAU,CAACiC,IAAI,kBAAkB9B,YAAY,aAAaO,MAAM,CAAC,cAAc,MAAM,MAAQd,EAAIiG,aAAa,MAAQjG,EAAIsC,QAAQ,CAAClC,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,aAAa,CAACV,EAAG,WAAW,CAACiC,IAAI,WAAWvB,MAAM,CAAC,YAAc,OAAOC,MAAM,CAACC,MAAOhB,EAAIiG,aAAqB,SAAEhF,SAAS,SAAUC,GAAMlB,EAAIwC,KAAKxC,EAAIiG,aAAc,WAAY/E,IAAME,WAAW,0BAA0B,CAAChB,EAAG,IAAI,CAACG,YAAY,+BAA+BO,MAAM,CAAC,KAAO,UAAUgB,KAAK,cAAc,GAAG1B,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,aAAa,CAACV,EAAG,WAAW,CAACiC,IAAI,WAAWvB,MAAM,CAAC,KAAO,WAAW,YAAc,MAAMC,MAAM,CAACC,MAAOhB,EAAIiG,aAAqB,SAAEhF,SAAS,SAAUC,GAAMlB,EAAIwC,KAAKxC,EAAIiG,aAAc,WAAY/E,IAAME,WAAW,0BAA0B,CAAChB,EAAG,IAAI,CAACG,YAAY,8BAA8BO,MAAM,CAAC,KAAO,UAAUgB,KAAK,cAAc,GAAG1B,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,eAAe,CAACV,EAAG,WAAW,CAACiC,IAAI,WAAWvB,MAAM,CAAC,KAAO,WAAW,YAAc,QAAQC,MAAM,CAACC,MAAOhB,EAAIiG,aAAuB,WAAEhF,SAAS,SAAUC,GAAMlB,EAAIwC,KAAKxC,EAAIiG,aAAc,aAAc/E,IAAME,WAAW,4BAA4B,CAAChB,EAAG,IAAI,CAACG,YAAY,8BAA8BO,MAAM,CAAC,KAAO,UAAUgB,KAAK,cAAc,GAAG1B,EAAG,eAAe,CAACA,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,WAAWH,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIkG,WAAW,sBAAsB,CAAClG,EAAIM,GAAG,WAAW,GAAGF,EAAG,eAAe,CAACA,EAAG,YAAY,CAACG,YAAY,OAAOI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAImG,YAAY,CAACnG,EAAIM,GAAG,WAAW,IAAI,IAAI,MACttDuC,EAAkB,G,wBC4EtB,GACEC,KADF,WACA,WACA,kBACM,GAAI9B,IAAU,EAApB,iCACMC,EAAS,IAAImF,MAAM,sBAEzB,kBACM,IAAN,sBACUC,EAAMC,KAAKtF,IAAmB,IAATA,QAAwBuE,GAATvE,EACtCC,IAEAA,EAAS,IAAImF,MAAM,gBAG3B,EAAI,WAAJ,yKACA,kDADA,gBACA,EADA,EACA,KACA,MACA,uBAEA,IALA,kGAAI,GASJ,kBACM,IAAN,4BACUG,EAAWD,KAAKtF,GAClBC,IAEAA,EAAS,IAAImF,MAAM,6BAGvB,MAAO,CACLH,aAAc,GAEd3D,MAAO,CACLkE,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,QACA,CAAU,UAAV,EAAU,QAAV,UACA,CAAU,UAAV,EAAU,QAAV,SAEQC,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,QACA,CACU,IAAV,EACU,IAAV,GACU,QAAV,iBACU,QAAV,UAEA,CAAU,UAAV,EAAU,QAAV,WAEQC,WAAY,CACpB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,QACA,CAAU,UAAV,EAAU,QAAV,cAKEC,QAzDF,WAyDA,WAEIC,SAASC,UAAY,SAAzB,GACM,IAAN,uBACmB,KAATC,GACF,EAAR,+BAIuC,KAA/B7G,KAAKgG,aAAaO,SACpBvG,KAAKmE,MAAMoC,SAASO,QAC1B,iCACM9G,KAAKmE,MAAMqC,SAASM,SAGxBpD,QAAS,CAEPuC,WAFJ,SAEA,cACMjG,KAAKmE,MAAM/B,GAAKgC,SAAhB,WAAN,0JACA,EADA,0CACA,GADA,qBAEA,0BAFA,SAIA,6CAJA,gBAIA,EAJA,EAIA,KACA,cACA,YACA,eACA,kBAEA,QACA,wDACA,qBAEA,YACA,aACA,kBAhBA,8FAAM,KAqBF8B,OAxBJ,WAyBMlG,KAAKqE,QAAQ0C,IAAI,MC9K2T,I,wBCQ9UtC,EAAY,eACd,EACA3E,EACA8C,GACA,EACA,KACA,WACA,MAIa,aAAA6B,E,sECnBf,yBAAsiB,EAAG,G,qBCAziB,IAAIgB,EAAkB,EAAQ,QAE1BC,EAAQD,EAAgB,SAE5BE,EAAOC,QAAU,SAAUoB,GACzB,IAAIC,EAAS,IACb,IACE,MAAMD,GAAaC,GACnB,MAAOC,GACP,IAEE,OADAD,EAAOvB,IAAS,EACT,MAAMsB,GAAaC,GAC1B,MAAOE,KACT,OAAO,I,yDCZX,IAAIzC,EAAI,EAAQ,QACZ0C,EAAY,EAAQ,QAA+BvD,SACnDwD,EAAmB,EAAQ,QAC3BC,EAA0B,EAAQ,QAElCC,EAAiBD,EAAwB,UAAW,CAAEE,WAAW,EAAMC,EAAG,IAI9E/C,EAAE,CAAEI,OAAQ,QAASC,OAAO,EAAMC,QAASuC,GAAkB,CAC3D1D,SAAU,SAAkB6D,GAC1B,OAAON,EAAUpH,KAAM0H,EAAItC,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAKrE+B,EAAiB,a,yCCjBjB,IAAIvH,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,OAAOH,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,KAAK,CAACJ,EAAIM,GAAG,QAAQF,EAAG,UAAU,CAACiC,IAAI,eAAe9B,YAAY,aAAaO,MAAM,CAAC,cAAc,MAAM,MAAQd,EAAI4H,UAAU,MAAQ5H,EAAIsC,QAAQ,CAAClC,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,aAAa,CAACV,EAAG,WAAW,CAACiC,IAAI,WAAWvB,MAAM,CAAC,YAAc,OAAOC,MAAM,CAACC,MAAOhB,EAAI4H,UAAkB,SAAE3G,SAAS,SAAUC,GAAMlB,EAAIwC,KAAKxC,EAAI4H,UAAW,WAAY1G,IAAME,WAAW,uBAAuB,CAAChB,EAAG,IAAI,CAACG,YAAY,+BAA+BO,MAAM,CAAC,KAAO,UAAUgB,KAAK,cAAc,GAAG1B,EAAG,eAAe,CAACU,MAAM,CAAC,KAAO,aAAa,CAACV,EAAG,WAAW,CAACiC,IAAI,WAAWvB,MAAM,CAAC,KAAO,WAAW,YAAc,MAAMC,MAAM,CAACC,MAAOhB,EAAI4H,UAAkB,SAAE3G,SAAS,SAAUC,GAAMlB,EAAIwC,KAAKxC,EAAI4H,UAAW,WAAY1G,IAAME,WAAW,uBAAuB,CAAChB,EAAG,IAAI,CAACG,YAAY,8BAA8BO,MAAM,CAAC,KAAO,UAAUgB,KAAK,cAAc,GAAG1B,EAAG,eAAe,CAACA,EAAG,YAAY,CAACU,MAAM,CAAC,KAAO,WAAWH,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOZ,EAAIkG,WAAW,mBAAmB,CAAClG,EAAIM,GAAG,WAAW,GAAGF,EAAG,eAAe,CAACA,EAAG,cAAc,CAACU,MAAM,CAAC,GAAK,cAAc,CAACd,EAAIM,GAAG,mBAAmB,IAAI,IAAI,MAC/xCuC,EAAkB,G,wBC2DtB,GACEC,KADF,WAEI,MAAO,CACL8E,UAAW,GACXtF,MAAO,CACLkE,SAAU,CAAC,CAAnB,8CACQC,SAAU,CAAC,CAAnB,gDAIEE,QAVF,WAUA,WAEIC,SAASC,UAAY,SAAzB,GACM,IAAN,uBACmB,KAATC,GACF,EAAR,4BAIoC,KAA5B7G,KAAK2H,UAAUpB,SACjBvG,KAAKmE,MAAMoC,SAASO,QAC1B,8BACM9G,KAAKmE,MAAMqC,SAASM,SAGxBpD,QAAS,CAEPuC,WAFJ,SAEA,cACMjG,KAAKmE,MAAM/B,GAAKgC,SAAhB,WAAN,0JACA,EADA,0CACA,GADA,uBAEA,kCAFA,gBAEA,EAFA,EAEA,KAEA,cACA,YACA,eACA,kBAEA,QACA,wDACA,qBAEA,YACA,aACA,gBAfA,8FAAM,OCxFyU,I,wBCQ3UK,EAAY,eACd,EACA3E,EACA8C,GACA,EACA,KACA,WACA,MAIa,aAAA6B,E","file":"js/login-index.0515041c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('h3',[_vm._v(\"相册\")]),_c('div',{staticClass:\"operation\"},[(_vm.user.status)?_c('div'):_vm._e(),(!_vm.user.status)?_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\" 创建相册 \")]):_vm._e(),_c('el-input',{attrs:{\"placeholder\":\"请输入查询关键字\"},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}})],1),_c('ul',{staticClass:\"albumlist\"},_vm._l((_vm.albumlist),function(item){return _c('li',{key:item.albumid,on:{\"click\":function($event){return _vm.to(item)}}},[_c('div',{staticClass:\"albumlist-img\"},[_c('el-image',{attrs:{\"fit\":\"cover\",\"src\":item.aPhoto && item.albumtype === 1 ? _vm.dfUrl + item.aPhoto.photoaddress : ''}},[(item.albumtype === 1)?_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-picture-outline\"})]):_vm._e(),(item.albumtype === 2)?_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('i',{staticClass:\"el-icon-warning\"})]):_vm._e()])],1),_c('div',{staticClass:\"albumlist-b\"},[_c('span',[_vm._v(_vm._s(item.albumname || '相册名称'))]),(!_vm.user.status)?_c('el-dropdown',{on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" ...\"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":{ type: 'alter', item: item }}},[_vm._v(\" 修改 \")]),_c('el-dropdown-item',{attrs:{\"command\":{ type: 'del', item: item }}},[_vm._v(\" 删除 \")])],1)],1):_vm._e()],1),_c('div',{staticClass:\"albumlist-desc\",attrs:{\"title\":item.albumdescribe}},[_vm._v(\" \"+_vm._s(item.albumdescribe || '描述')+\" \")])])}),0)]),_c('el-dialog',{attrs:{\"center\":\"\",\"visible\":_vm.dialogVisible,\"before-close\":_vm.handleClose,\"title\":\"创建相册\",\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"addalbumFormref\",attrs:{\"rules\":_vm.rules,\"model\":_vm.addalbumForm}},[_c('el-form-item',{attrs:{\"prop\":\"albumname\",\"label\":\"相册名称\"}},[_c('el-input',{model:{value:(_vm.addalbumForm.albumname),callback:function ($$v) {_vm.$set(_vm.addalbumForm, \"albumname\", $$v)},expression:\"addalbumForm.albumname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"albumdescribe\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.addalbumForm.albumdescribe),callback:function ($$v) {_vm.$set(_vm.addalbumForm, \"albumdescribe\", $$v)},expression:\"addalbumForm.albumdescribe\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.submit('addalbumFormref')}}},[_vm._v(\"提 交\")]),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")])],1)],1),_c('el-dialog',{attrs:{\"center\":\"\",\"visible\":_vm.dialogVisible1,\"before-close\":_vm.handleClose1,\"title\":\"修改描述\",\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible1=$event}}},[_c('el-form',{ref:\"alteralbumFormref\",attrs:{\"rules\":_vm.rules,\"model\":_vm.alteralbumForm}},[_c('el-form-item',{attrs:{\"prop\":\"albumname\",\"label\":\"相册名称\"}},[_c('el-input',{model:{value:(_vm.alteralbumForm.albumname),callback:function ($$v) {_vm.$set(_vm.alteralbumForm, \"albumname\", $$v)},expression:\"alteralbumForm.albumname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"描述\",\"prop\":\"albumdescribe\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.alteralbumForm.albumdescribe),callback:function ($$v) {_vm.$set(_vm.alteralbumForm, \"albumdescribe\", $$v)},expression:\"alteralbumForm.albumdescribe\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){return _vm.submit('alteralbumFormref')}}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible1 = false}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card>\r\n      <h3>相册</h3>\r\n      <div class=\"operation\">\r\n        <div v-if=\"user.status\"></div>\r\n        <el-button\r\n          @click=\"dialogVisible = true\"\r\n          v-if=\"!user.status\"\r\n        >\r\n          创建相册\r\n        </el-button>\r\n        <el-input\r\n          v-model=\"query\"\r\n          placeholder=\"请输入查询关键字\"\r\n        />\r\n      </div>\r\n      <ul class=\"albumlist\">\r\n        <li\r\n          v-for=\"item in albumlist\"\r\n          :key=\"item.albumid\"\r\n          @click=\"to(item)\"\r\n        >\r\n          <div class=\"albumlist-img\">\r\n            <el-image\r\n              fit=\"cover\"\r\n              :src=\"item.aPhoto && item.albumtype === 1 ? dfUrl + item.aPhoto.photoaddress : ''\"\r\n            >\r\n              <div\r\n                slot=\"error\"\r\n                class=\"image-slot\"\r\n                v-if=\"item.albumtype === 1\"\r\n              >\r\n                <i class=\"el-icon-picture-outline\" />\r\n              </div>\r\n              <div\r\n                slot=\"error\"\r\n                class=\"image-slot\"\r\n                v-if=\"item.albumtype === 2\"\r\n              >\r\n                <i class=\"el-icon-warning\" />\r\n              </div>\r\n            </el-image>\r\n          </div>\r\n          <div class=\"albumlist-b\">\r\n            <span>{{ item.albumname || '相册名称' }}</span>\r\n            <el-dropdown\r\n              @command=\"handleCommand\"\r\n              v-if=\"!user.status\"\r\n            >\r\n              <span class=\"el-dropdown-link\"> ...<i class=\"el-icon-arrow-down el-icon--right\" /> </span>\r\n              <el-dropdown-menu slot=\"dropdown\">\r\n                <el-dropdown-item :command=\"{ type: 'alter', item }\">\r\n                  修改\r\n                </el-dropdown-item>\r\n                <el-dropdown-item :command=\"{ type: 'del', item }\">\r\n                  删除\r\n                </el-dropdown-item>\r\n              </el-dropdown-menu>\r\n            </el-dropdown>\r\n          </div>\r\n          <div\r\n            class=\"albumlist-desc\"\r\n            :title=\"item.albumdescribe\"\r\n          >\r\n            {{ item.albumdescribe || '描述' }}\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </el-card>\r\n    <el-dialog\r\n      center\r\n      :visible.sync=\"dialogVisible\"\r\n      :before-close=\"handleClose\"\r\n      title=\"创建相册\"\r\n      width=\"50%\"\r\n    >\r\n      <el-form\r\n        :rules=\"rules\"\r\n        ref=\"addalbumFormref\"\r\n        :model=\"addalbumForm\"\r\n      >\r\n        <el-form-item\r\n          prop=\"albumname\"\r\n          label=\"相册名称\"\r\n        >\r\n          <el-input v-model=\"addalbumForm.albumname\" />\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"描述\"\r\n          prop=\"albumdescribe\"\r\n        >\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"addalbumForm.albumdescribe\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n      >\r\n        <el-button @click=\"submit('addalbumFormref')\">提 交</el-button>\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <el-dialog\r\n      center\r\n      :visible.sync=\"dialogVisible1\"\r\n      :before-close=\"handleClose1\"\r\n      title=\"修改描述\"\r\n      width=\"50%\"\r\n    >\r\n      <el-form\r\n        :rules=\"rules\"\r\n        ref=\"alteralbumFormref\"\r\n        :model=\"alteralbumForm\"\r\n      >\r\n        <el-form-item\r\n          prop=\"albumname\"\r\n          label=\"相册名称\"\r\n        >\r\n          <el-input v-model=\"alteralbumForm.albumname\" />\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"描述\"\r\n          prop=\"albumdescribe\"\r\n        >\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"alteralbumForm.albumdescribe\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span\r\n        slot=\"footer\"\r\n        class=\"dialog-footer\"\r\n      >\r\n        <el-button @click=\"submit('alteralbumFormref')\">提交</el-button>\r\n        <el-button @click=\"dialogVisible1 = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      query: '',\r\n      user: JSON.parse(window.sessionStorage.user),\r\n      id: JSON.parse(window.sessionStorage.user).userid || JSON.parse(window.sessionStorage.user).adminid,\r\n      dialogVisible: false,\r\n      dialogVisible1: false,\r\n      isalter: false,\r\n      dfUrl: 'http://localhost:10086/ps/',\r\n      albumlist: [{}],\r\n      allalbumlist: [],\r\n      addalbumForm: {},\r\n      alteralbumForm: {},\r\n      rules: {\r\n        albumname: [{ required: true, message: '请输入相册名', trigger: 'blur' }],\r\n        albumdescribe: [{ required: true, message: '请输入相册描述', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getalbumlist()\r\n  },\r\n  methods: {\r\n    // 获取用户相册\r\n    async getalbumlist () {\r\n      const { data: res } = await this.$http.get('album/list', { params: { id: this.id } })\r\n      if (res.code === 200) {\r\n        this.allalbumlist = res.obj\r\n        this.queryuserlist()\r\n      }\r\n    },\r\n    // 搜索相册\r\n    queryuserlist () {\r\n      const arr = []\r\n      this.allalbumlist.some(item => {\r\n        if (item.albumname.includes(this.query) || item.albumdescribe.includes(this.query)) {\r\n          arr.push(item)\r\n        }\r\n      })\r\n      this.albumlist = arr\r\n    },\r\n    handleCommand (val) {\r\n      if (val.type === 'alter') {\r\n        this.alter(val.item)\r\n      }\r\n      if (val.type === 'del') {\r\n        this.del(val.item)\r\n      }\r\n    },\r\n    // 修改相册描述\r\n    alter (item) {\r\n      this.dialogVisible1 = true\r\n      console.log(item)\r\n      this.alteralbumForm = item\r\n      this.isalter = true\r\n    },\r\n    // 提交添加相册信息\r\n    submit (ref) {\r\n      this.$refs[ref].validate(async isvalidate => {\r\n        if (!isvalidate) return false\r\n        console.log(this.alteralbumForm)\r\n        console.log(this.addalbumForm)\r\n        if (this.isalter) {\r\n          console.log(this.alteralbumForm)\r\n          const { albumid: id, albumdescribe: changeWord } = this.alteralbumForm\r\n          const { data: res } = await this.$http.post('user/updateAlbum', { id, changeWord })\r\n          console.log(res)\r\n          this.handleClose1()\r\n        } else {\r\n          this.addalbumForm.albumuserid = this.id\r\n          const { data: res } = await this.$http.post('user/addAlbum', this.addalbumForm)\r\n          console.log(res)\r\n          if (res.code === 200) {\r\n            this.getalbumlist()\r\n            this.queryuserlist()\r\n            this.handleClose()\r\n          }\r\n        }\r\n      })\r\n    },\r\n    // 删除相册\r\n    async del (item) {\r\n      // 弹窗询问是否删除\r\n      const confirmres = await this.$confirm('是否确认删除该相册?', '确认删除', {\r\n        confirmButtonText: '确认',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(err => err)\r\n      if (confirmres != 'confirm') {\r\n        return this.$message.info('已取消删除')\r\n      }\r\n      const { albumid: id } = item\r\n      const { data: res } = await this.$http.get('user/delAlbum', { params: { id } })\r\n      if (res.code === 200) {\r\n        this.getalbumlist()\r\n        this.queryuserlist()\r\n      }\r\n    },\r\n    // 跳转相册\r\n    to (item) {\r\n      if (item.albumtype === 1) {\r\n        this.$router.push('/album/' + item.albumid)\r\n      } else {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '相册已被禁用'\r\n        })\r\n      }\r\n    },\r\n    // 关闭对话框\r\n    handleClose () {\r\n      this.dialogVisible = false\r\n    },\r\n    // 关闭对话框\r\n    handleClose1 () {\r\n      this.dialogVisible1 = false\r\n    }\r\n  },\r\n  watch: {\r\n    query (val) {\r\n      this.queryuserlist()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.el-card {\r\n  background-color: #e8f0d8;\r\n}\r\n.albumlist {\r\n  display: flex;\r\n  list-style: none;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  padding: 0;\r\n  margin-top: 20px;\r\n  li {\r\n    width: 174px;\r\n    height: 250px;\r\n    padding: 5px;\r\n    cursor: pointer;\r\n    margin-bottom: 10px;\r\n    background-color: #fff;\r\n    box-shadow: 1px 1px 10px #3332;\r\n  }\r\n  li:not(:nth-child(7n)) {\r\n    margin-right: 11px;\r\n  }\r\n  a:not(:nth-child(7n)) > li {\r\n    margin-right: 11px;\r\n  }\r\n  .albumlist-b {\r\n    display: flex;\r\n    height: 46px;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n  a:hover,\r\n  a:focus {\r\n    text-decoration: none;\r\n  }\r\n}\r\n.operation {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  .el-input {\r\n    width: 200px;\r\n  }\r\n}\r\n.albumlist-img {\r\n  width: 100%;\r\n  height: 109px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  i {\r\n    font-size: 40px;\r\n  }\r\n}\r\n.albumlist-desc {\r\n  height: 80px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7b98e7f9&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7b98e7f9&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b98e7f9\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=df6e00a8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=style&index=0&id=df6e00a8&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=67c3c9e8&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=67c3c9e8&lang=less&scoped=true&\"","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_container\"},[_c('div'),_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"login_box\"},[_c('h1',[_vm._v(\"注册\")]),_c('el-form',{ref:\"registerFormref\",staticClass:\"login-form\",attrs:{\"lable-width\":\"0px\",\"model\":_vm.registerForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{ref:\"username\",attrs:{\"placeholder\":\"手机号\"},model:{value:(_vm.registerForm.username),callback:function ($$v) {_vm.$set(_vm.registerForm, \"username\", $$v)},expression:\"registerForm.username\"}},[_c('i',{staticClass:\"el-input__icon el-icon-phone\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{ref:\"password\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.registerForm.password),callback:function ($$v) {_vm.$set(_vm.registerForm, \"password\", $$v)},expression:\"registerForm.password\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"repassword\"}},[_c('el-input',{ref:\"password\",attrs:{\"type\":\"password\",\"placeholder\":\"确认密码\"},model:{value:(_vm.registerForm.repassword),callback:function ($$v) {_vm.$set(_vm.registerForm, \"repassword\", $$v)},expression:\"registerForm.repassword\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('registerFormref')}}},[_vm._v(\" 注册 \")])],1),_c('el-form-item',[_c('el-button',{staticClass:\"back\",on:{\"click\":function($event){return _vm.reback()}}},[_vm._v(\" 取消 \")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login_container\">\r\n    <div />\r\n    <div class=\"bg\" />\r\n    <div class=\"login_box\">\r\n      <h1>注册</h1>\r\n      <!-- 注册表单 -->\r\n      <el-form\r\n        lable-width=\"0px\"\r\n        class=\"login-form\"\r\n        ref=\"registerFormref\"\r\n        :model=\"registerForm\"\r\n        :rules=\"rules\"\r\n      >\r\n        <!-- 用户名 -->\r\n        <el-form-item prop=\"username\">\r\n          <el-input\r\n            v-model=\"registerForm.username\"\r\n            ref=\"username\"\r\n            placeholder=\"手机号\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-phone\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 密码 -->\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"registerForm.password\"\r\n            ref=\"password\"\r\n            placeholder=\"密码\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-lock\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 密码 -->\r\n        <el-form-item prop=\"repassword\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"registerForm.repassword\"\r\n            ref=\"password\"\r\n            placeholder=\"确认密码\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-lock\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 按钮 -->\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"submitForm('registerFormref')\"\r\n          >\r\n            注册\r\n          </el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n            @click=\"reback()\"\r\n            class=\"back\"\r\n          >\r\n            取消\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    const validaterepassword = (rele, value, callback) => {\r\n      if (value === this.registerForm.password) return callback()\r\n      callback(new Error('两次输入的密码不一致，请重新输入'))\r\n    }\r\n    const validatephone = (rele, value, callback) => {\r\n      const phone = /^1[3456789]\\d{9}$/\r\n      if (phone.test(value) || value == '' || value == undefined) {\r\n        callback()\r\n      } else {\r\n        callback(new Error('请输入正确的手机号码'))\r\n      }\r\n    }\r\n    const validatephone1 = async (rele, value, callback) => {\r\n      const { data: res } = await this.$http.get('user/isPhone', { params: { username: value } })\r\n      if (res.obj) {\r\n        callback(new Error('已注册手机号'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n\r\n    const validatePassWord = (rele, value, callback) => {\r\n      const v_password = /^[a-zA-Z][a-zA-Z0-9_]*$/\r\n      if (v_password.test(value)) {\r\n        callback()\r\n      } else {\r\n        callback(new Error('以英文字母开头，只能包含英文字母、数字、下划线'))\r\n      }\r\n    }\r\n    return {\r\n      registerForm: {},\r\n      // 表单验证规则\r\n      rules: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { validator: validatephone, trigger: 'change' },\r\n          { validator: validatephone1, trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          {\r\n            min: 2,\r\n            max: 15,\r\n            message: '长度在 2 到 15 个字符',\r\n            trigger: 'change'\r\n          },\r\n          { validator: validatePassWord, trigger: 'change' }\r\n        ],\r\n        repassword: [\r\n          { required: true, message: '请确认密码', trigger: 'blur' },\r\n          { validator: validaterepassword, trigger: 'change' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 监听回车事件\r\n    document.onkeydown = e => {\r\n      const _key = window.event.keyCode\r\n      if (_key === 13) {\r\n        this.submitForm('registerFormref')\r\n      }\r\n    }\r\n    // 监听输入框内容，如果为空，则获取焦点\r\n    if (this.registerForm.username === '') {\r\n      this.$refs.username.focus()\r\n    } else if (this.registerForm.password === '') {\r\n      this.$refs.password.focus()\r\n    }\r\n  },\r\n  methods: {\r\n    // 提交表单\r\n    submitForm (ref) {\r\n      this.$refs[ref].validate(async isvalidate => {\r\n        if (!isvalidate) return false\r\n        delete this.registerForm.repassword\r\n        console.log(this.registerForm)\r\n        const { data: res } = await this.$http.post('user/doregist', this.registerForm)\r\n        if (res.code === 200) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '注册成功！'\r\n          })\r\n          const user = res.obj\r\n          window.sessionStorage.setItem('user', JSON.stringify(user))\r\n          this.$router.push('/')\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: '注册失败！'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    reback () {\r\n      this.$router.go(-1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\na:hover {\r\n  text-decoration: none;\r\n}\r\n.login_container {\r\n  height: 100%;\r\n  background: url('http://47.115.58.32:8080/img/login-bg.jpg') 100%;\r\n  background-color: rgb(46, 196, 183);\r\n}\r\n.bg {\r\n  width: 390px;\r\n  height: 480px;\r\n  border-radius: 4px;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.login-form {\r\n  width: 100%;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  .el-button {\r\n    width: 100%;\r\n  }\r\n  .el-form-item:last-child {\r\n    text-align: right;\r\n  }\r\n}\r\n.login_box {\r\n  width: 350px;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 4px;\r\n  h1 {\r\n    width: 100%;\r\n    margin: 20px 0;\r\n    text-align: center;\r\n    color: rgb(23, 160, 240);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./register.vue?vue&type=template&id=df6e00a8&scoped=true&\"\nimport script from \"./register.vue?vue&type=script&lang=js&\"\nexport * from \"./register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./register.vue?vue&type=style&index=0&id=df6e00a8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df6e00a8\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7b98e7f9&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7b98e7f9&lang=less&scoped=true&\"","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_container\"},[_c('div'),_c('div',{staticClass:\"bg\"}),_c('div',{staticClass:\"login_box\"},[_c('h1',[_vm._v(\"登录\")]),_c('el-form',{ref:\"loginFormref\",staticClass:\"login-form\",attrs:{\"lable-width\":\"0px\",\"model\":_vm.loginForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{ref:\"username\",attrs:{\"placeholder\":\"手机号\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}},[_c('i',{staticClass:\"el-input__icon el-icon-phone\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{ref:\"password\",attrs:{\"type\":\"password\",\"placeholder\":\"密码\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}},[_c('i',{staticClass:\"el-input__icon el-icon-lock\",attrs:{\"slot\":\"prefix\"},slot:\"prefix\"})])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('loginFormref')}}},[_vm._v(\" 登录 \")])],1),_c('el-form-item',[_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\" 还没有账号？立即注册 \")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login_container\">\r\n    <div />\r\n    <div class=\"bg\" />\r\n    <div class=\"login_box\">\r\n      <h1>登录</h1>\r\n      <!-- 登录表单 -->\r\n      <el-form\r\n        lable-width=\"0px\"\r\n        class=\"login-form\"\r\n        ref=\"loginFormref\"\r\n        :model=\"loginForm\"\r\n        :rules=\"rules\"\r\n      >\r\n        <!-- 用户名 -->\r\n        <el-form-item prop=\"username\">\r\n          <el-input\r\n            v-model=\"loginForm.username\"\r\n            ref=\"username\"\r\n            placeholder=\"手机号\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-phone\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 密码 -->\r\n        <el-form-item prop=\"password\">\r\n          <el-input\r\n            type=\"password\"\r\n            v-model=\"loginForm.password\"\r\n            ref=\"password\"\r\n            placeholder=\"密码\"\r\n          >\r\n            <i\r\n              slot=\"prefix\"\r\n              class=\"el-input__icon el-icon-lock\"\r\n            />\r\n          </el-input>\r\n        </el-form-item>\r\n        <!-- 按钮 -->\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"submitForm('loginFormref')\"\r\n          >\r\n            登录\r\n          </el-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <router-link to=\"/register\">\r\n            还没有账号？立即注册\r\n          </router-link>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      loginForm: {},\r\n      rules: {\r\n        username: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\r\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }]\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    // 监听回车事件\r\n    document.onkeydown = e => {\r\n      const _key = window.event.keyCode\r\n      if (_key === 13) {\r\n        this.submitForm('loginFormref')\r\n      }\r\n    }\r\n    // 监听输入框内容，如果为空，则获取焦点\r\n    if (this.loginForm.username === '') {\r\n      this.$refs.username.focus()\r\n    } else if (this.loginForm.password === '') {\r\n      this.$refs.password.focus()\r\n    }\r\n  },\r\n  methods: {\r\n    // 提交表单\r\n    submitForm (ref) {\r\n      this.$refs[ref].validate(async isvalidate => {\r\n        if (!isvalidate) return false\r\n        const { data: res } = await this.$http.post('login', this.loginForm)\r\n        console.log(res)\r\n        if (res.code === 200) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '登录成功！'\r\n          })\r\n          const user = res.obj\r\n          window.sessionStorage.setItem('user', JSON.stringify(user))\r\n          this.$router.push('/')\r\n        } else {\r\n          this.$message({\r\n            type: 'error',\r\n            message: res.obj\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\na:hover {\r\n  text-decoration: none;\r\n}\r\n.login_container {\r\n  height: 100%;\r\n  background: url('http://47.115.58.32:8080/img/login-bg.jpg') 100%;\r\n  background-color: rgb(46, 196, 183);\r\n}\r\n.bg {\r\n  width: 390px;\r\n  height: 480px;\r\n  border-radius: 4px;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.login-form {\r\n  width: 100%;\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  .el-button {\r\n    width: 100%;\r\n  }\r\n  .el-form-item:last-child {\r\n    text-align: right;\r\n  }\r\n}\r\n.login_box {\r\n  width: 350px;\r\n  background-color: #fff;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 80%;\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 4px;\r\n  h1 {\r\n    width: 100%;\r\n    margin: 20px 0;\r\n    text-align: center;\r\n    color: rgb(23, 160, 240);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=67c3c9e8&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=67c3c9e8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67c3c9e8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}